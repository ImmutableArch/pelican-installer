#!/usr/bin/env python3

import json
import os
import weakref
from gi.repository import GObject, Gtk, Adw


class SimpleLocalizationManager(GObject.Object):
    """
    A simple localization manager that automatically finds and updates
    translatable elements without requiring manual registration.
    """
    
    __gtype_name__ = 'SimpleLocalizationManager'
    
    # Signal emitted when language changes
    __gsignals__ = {
        'language-changed': (GObject.SignalFlags.RUN_FIRST, None, (str,))
    }
    
    _instance = None
    
    def __new__(cls):
        if cls._instance is None:
            cls._instance = super().__new__(cls)
            cls._instance._initialized = False
        return cls._instance
    
    def __init__(self):
        if self._initialized:
            return
            
        super().__init__()
        self.current_language = "en_US.UTF-8"
        self.original_texts = {}
        self.translations = {}
        self.registered_widgets = []
        self._original_texts = weakref.WeakKeyDictionary()
        self.load_translations()
        self._initialized = True
        
        # Patch Adw.MessageDialog to auto-translate
        self.patch_message_dialog()
        self.patch_preferences_group()

    def _remember_original(self, widget, field, current_value):
        """Cache the first-seen (English) value for a widget's field and return it.
        Why: after first translation, visible text is no longer a valid key; we must
        always translate from the stable, original English string.
        """
        if widget not in self._original_texts:
            self._original_texts[widget] = {}
        bucket = self._original_texts[widget]
        
        # CRITICAL FIX: Only store text if it's actually an English key
        # Check if current_value exists in English translations
        if field not in bucket and current_value:
            # Only store if this text exists as a key in English translations
            if current_value in self.translations.get("en_US.UTF-8", {}):
                bucket[field] = current_value
            else:
                # If current text is not an English key, it might be already translated
                # Try to find the English key by reverse lookup
                english_key = self._find_english_key(current_value)
                if english_key:
                    bucket[field] = english_key
                    return english_key
        
        return bucket.get(field, current_value)

    def _find_english_key(self, translated_text):
        """Find the English key for a translated text by reverse lookup"""
        if not translated_text:
            return None
        
        # First check if it's already English
        if translated_text in self.translations.get("en_US.UTF-8", {}):
            return translated_text
        
        # Search through all non-English translations to find which English key maps to this text
        for lang_code, trans_dict in self.translations.items():
            if lang_code == "en_US.UTF-8":
                continue
            for english_key, translated_value in trans_dict.items():
                if translated_value == translated_text:
                    return english_key
        
        return None

    def _get_original(self, widget, field, fallback=None):
        """Fetch original English value for a widget's field if remembered."""
        d = self._original_texts.get(widget)
        if not d:
            return fallback
        return d.get(field, fallback)

    def translate_gtk_dialog(self, dialog):
        """Translate a GTK.Dialog and its content"""
        try:
            # Translate dialog title
            title = dialog.get_title()
            if title:
                dialog.set_title(self.get_text(title))
            
            # Recursively translate all children in the content area
            content_area = dialog.get_content_area()
            if content_area:
                self.update_widget_tree(content_area)
        except Exception as e:
            print(f"Error translating GTK dialog: {e}")        
    
    def patch_preferences_group(self):
        """Monkey-patch Adw.PreferencesGroup to auto-translate on creation"""
        original_init = Adw.PreferencesGroup.__init__
        original_set_title = Adw.PreferencesGroup.set_title
        original_set_description = Adw.PreferencesGroup.set_description
        
        def patched_init(group_self, **kwargs):
            # Call original init
            original_init(group_self, **kwargs)
            
            # Auto-translate if title/description were provided in kwargs
            if 'title' in kwargs:
                group_self.set_title(kwargs['title'])
            if 'description' in kwargs:
                group_self.set_description(kwargs['description'])
        
        def patched_set_title(group_self, title):
            if title:
                title = self.get_text(title)
            original_set_title(group_self, title)
        
        def patched_set_description(group_self, description):
            if description:
                description = self.get_text(description)
            original_set_description(group_self, description)
        
        # Apply patches
        Adw.PreferencesGroup.__init__ = patched_init
        Adw.PreferencesGroup.set_title = patched_set_title
        Adw.PreferencesGroup.set_description = patched_set_description

    def patch_message_dialog(self):
        """Monkey-patch Adw.MessageDialog to auto-translate on creation"""
        original_init = Adw.MessageDialog.__init__
        original_set_heading = Adw.MessageDialog.set_heading
        original_set_body = Adw.MessageDialog.set_body
        original_add_response = Adw.MessageDialog.add_response
        
        def patched_init(dialog_self, **kwargs):
            # Call original init
            original_init(dialog_self, **kwargs)
            
            # Auto-translate if heading/body were provided in kwargs
            if 'heading' in kwargs:
                dialog_self.set_heading(kwargs['heading'])
            if 'body' in kwargs:
                dialog_self.set_body(kwargs['body'])
        
        def patched_set_heading(dialog_self, heading):
            if heading:
                heading = self.get_text(heading)
            original_set_heading(dialog_self, heading)
        
        def translate_dynamic_text(self, text):
            """Translate text that may contain dynamic parts"""
            # Try direct translation first
            translated = self.get_text(text)
            if translated != text:
                return translated
            
            # Handle patterns with dynamic content
            patterns = [
                # Pattern: "Are you sure you want to remove partition /dev/vda1?"
                (r"Are you sure you want to remove partition (.+)\?", 
                "Are you sure you want to remove partition", "?"),
                # Pattern: "Toggle boot flag for /dev/vda1?"
                (r"Toggle boot flag for (.+)\?", 
                "Toggle boot flag for", "?"),
                # Pattern: "Select filesystem type for /dev/vda1:"
                (r"Select filesystem type for (.+):", 
                "Select filesystem type for", ":"),
                # Pattern: "Change filesystem type for /dev/vda1:"
                (r"Change filesystem type for (.+):", 
                "Change filesystem type for", ":"),
            ]
            
            import re
            for pattern, prefix, suffix in patterns:
                match = re.match(pattern, text)
                if match:
                    dynamic_part = match.group(1)
                    translated_prefix = self.get_text(prefix)
                    translated_suffix = self.get_text(suffix) if suffix and suffix != suffix.strip() else suffix
                    return f"{translated_prefix} {dynamic_part}{translated_suffix}"
            
            return text
        
        def patched_set_body(dialog_self, body):
            if body:
                # Translate body while preserving structure
                lines = body.splitlines()
                translated_lines = []
                for line in lines:
                    if not line.strip():
                        translated_lines.append(line)
                        continue
                    
                    # Handle bullet points
                    bullet = ""
                    stripped = line
                    if stripped.lstrip().startswith("• "):
                        bullet = "• "
                        stripped = stripped.lstrip()[2:].strip()
                    else:
                        stripped = stripped.strip()
                    
                    # Try to translate the line (with dynamic text support)
                    translated = translate_dynamic_text(self, stripped)
                    translated_lines.append(f"{bullet}{translated}")
                
                body = "\n".join(translated_lines)
            original_set_body(dialog_self, body)
        
        def patched_add_response(dialog_self, response_id, label):
            if label:
                label = self.get_text(label)
            original_add_response(dialog_self, response_id, label)
        
        # Apply patches
        Adw.MessageDialog.__init__ = patched_init
        Adw.MessageDialog.set_heading = patched_set_heading
        Adw.MessageDialog.set_body = patched_set_body
        Adw.MessageDialog.add_response = patched_add_response

    def load_translations(self):
        """Load translation data - same as before but with translation keys matching UI text"""
        
        self.translations["en_US.UTF-8"] = {
            # Exact text matching (what appears in your UI)

            #Language
            "Select a Language": "Select a Language",
            "Search for a language...": "Search for a language...",
            "Back": "Back",
            "Continue": "Continue",

            #Timezone
            "Select Your Timezone": "Select Your Timezone",
            "Choose a city in your region. This will be used to set the clock.": "Choose a city in your region. This will be used to set the clock.",
            "Search for your city or region...": "Search for your city or region...",
            "Advanced": "Advanced",
            "Proceed": "Proceed",
            "Cancel": "Cancel",
            "Next": "Next",
            "Previous": "Previous",
            "Finish": "Finish",

            #Keyboard
            "Select Your Keyboard Layout": "Select Your Keyboard Layout",
            "Test your layout here:": "Test your layout here:",
            "You can add more after installation.": "You can add more after installation.",


            # Disk Utility Widget
            "Select Installation Destination": "Select Installation Destination",
            "Click on a disk or partition to select it or modify it.": "Click on a disk or partition to select it or modify it.",
            "No Disks Found": "No Disks Found",
            "Size": "Size",
            "Type": "Type",
            "Mount": "Mount",
            "Bootable": "Bootable",
            "Not configured": "Not configured",
            "Unallocated": "Unallocated",
            "Free Space": "Free Space",
            "Back": "Back",
            "Add": "Add",
            "Remove": "Remove",
            "Format": "Format",
            "Auto": "Auto",
            "Filesystem": "Filesystem",
            "Mountpoint": "Mountpoint",
            "Boot flag": "Boot flag",
            "Continue": "Continue",
            "Selected": "Selected",
            "Loading...": "Loading...",
            "Scanning for storage devices.": "Scanning for storage devices.",
            "Waiting for Gparted": "Waiting for Gparted",
            "The disk list will be refreshed after you close the Gparted application.": "The disk list will be refreshed after you close the Gparted application.",
            "Error: Gparted Not Found": "Error: Gparted Not Found",
            "Could not launch Gparted": "Could not launch Gparted",
            "OK": "OK",
            
            "Missing Required Configuration": "Missing Required Configuration",
            "No bootable partition found": "No bootable partition found",
            "No root (/) mountpoint configured": "No root (/) mountpoint configured",
            "Would you like to automatically configure the selected device?": "Would you like to automatically configure the selected device?",
            "Auto-configure will:": "Auto-configure will:",
            "Remove the selected partition/disk": "Remove the selected partition/disk",
            "Create a 1GB FAT32 boot partition at /boot": "Create a 1GB FAT32 boot partition at /boot",
            "Create an ext4 root partition at / with remaining space": "Create an ext4 root partition at / with remaining space",
            "WARNING: All data on the selected device will be lost!": "WARNING: All data on the selected device will be lost!",
            "Go Back": "Go Back",
            "Continue Anyway": "Continue Anyway",
            "Auto-Configure": "Auto-Configure",
            "Configuration Required": "Configuration Required",
            "Please select a disk and configure:": "Please select a disk and configure:",
            "At least one bootable partition": "At least one bootable partition",
            "A root (/) mountpoint": "A root (/) mountpoint",
            
            "Auto-Configuring": "Auto-Configuring",
            "Setting up UEFI boot and root partitions...": "Setting up UEFI boot and root partitions...",
            "Setting up Legacy boot and root partitions...": "Setting up Legacy boot and root partitions...",
            "Formatting Disk": "Formatting Disk",
            "Wiping disk and creating UEFI partitions...": "Wiping disk and creating UEFI partitions...",
            "Wiping disk and creating Legacy partitions...": "Wiping disk and creating Legacy partitions...",
            "Success": "Success",
            "UEFI disk configured successfully!": "UEFI disk configured successfully!",
            "Created partitions:": "Created partitions:",
            "1 GiB FAT32 at /boot (ESP)": "1 GiB FAT32 at /boot (ESP)",
            "ext4 at /": "ext4 at /",
            "fstab has been updated.": "fstab has been updated.",
            "Legacy disk configured successfully!": "Legacy disk configured successfully!",
            "ext4 at / (bootable)": "ext4 at / (bootable)",
            "Note: GRUB will be installed to the MBR of": "Note: GRUB will be installed to the MBR of",
            "Error": "Error",
            
            "Remove Partition": "Remove Partition",
            "Are you sure you want to remove partition": "Are you sure you want to remove partition",
            "This action cannot be undone and all data will be lost!": "This action cannot be undone and all data will be lost!",
            "Cancel": "Cancel",
            "Format Partition": "Format Partition",
            "Select filesystem type for": "Select filesystem type for",
            "Warning: All data will be lost!": "Warning: All data will be lost!",
            "ext4": "ext4",
            "Btrfs": "Btrfs",
            "NTFS": "NTFS",
            "FAT32": "FAT32",
            "exFAT": "exFAT",
            "swap": "swap",
            "Unformatted": "Unformatted",
            
            "Format Partition": "Format Partition",
            "Select filesystem type for": "Select filesystem type for",
            "Change Filesystem": "Change Filesystem", 
            "Change filesystem type for": "Change filesystem type for",
            "Warning: This will reformat the partition and all data will be lost!": "Warning: This will reformat the partition and all data will be lost!",
            "Boot Flag": "Boot Flag",
            "Toggle boot flag for": "Toggle boot flag for",
            "This will modify the partition to be visible in the boot menu.": "This will modify the partition to be visible in the boot menu.",
            "Enable Boot Flag": "Enable Boot Flag",
            "Disable Boot Flag": "Disable Boot Flag",
            "No Selection": "No Selection",
            "Please select a disk first.": "Please select a disk first.",
            "Please select a partition first.": "Please select a partition first.",
            "Invalid Selection": "Invalid Selection",
            "Cannot add partition to a partition. Please select a disk.": "Cannot add partition to a partition. Please select a disk.",
            "Can only remove partitions. Please select a partition.": "Can only remove partitions. Please select a partition.",
            "Format is only available for partitions. Use Auto for whole disks or free space.": "Format is only available for partitions. Use Auto for whole disks or free space.",
            "Auto configuration is only available for whole disks or free space.": "Auto configuration is only available for whole disks or free space.",
            "Can only change filesystem of partitions. Please select a partition.": "Can only change filesystem of partitions. Please select a partition.",
            "Can only set mountpoint for partitions. Please select a partition.": "Can only set mountpoint for partitions. Please select a partition.",
            "Can only set boot flag on partitions. Please select a partition.": "Can only set boot flag on partitions. Please select a partition.",
            "Please select a disk or free space first.": "Please select a disk or free space first.",
            "Please select a partition or free space first.": "Please select a partition or free space first.",
            "No device selected": "No device selected",
            "Format Entire Disk": "Format Entire Disk",
            "This will COMPLETELY WIPE": "This will COMPLETELY WIPE",
            "and create:": "and create:",
            "1 GiB FAT32 EFI System Partition at /boot": "1 GiB FAT32 EFI System Partition at /boot",
            "Remaining space as ext4 partition at /": "Remaining space as ext4 partition at /",
            "Single ext4 partition at / (bootable for Legacy boot)": "Single ext4 partition at / (bootable for Legacy boot)",
            "ALL DATA WILL BE LOST! Are you sure?": "ALL DATA WILL BE LOST! Are you sure?",
            "Note: GRUB will be installed to the MBR": "Note: GRUB will be installed to the MBR",
            "Wipe Disk": "Wipe Disk",

            "Are you sure you want to remove partition": "Are you sure you want to remove partition",
            "Toggle boot flag for": "Toggle boot flag for",
            "?": "?",
            ":": ":",
            "The following requirements are missing:": "The following requirements are missing:",

            "Create Partition": "Create Partition",
            "Create partition on": "Create partition on",
            "Size:": "Size:",
            "10 or leave empty for max": "10 or leave empty for max",
            "MB": "MB",
            "GB": "GB", 
            "TB": "TB",
            "Filesystem:": "Filesystem:",
            "Create": "Create",

            "Set Mountpoint": "Set Mountpoint",
            "Set mountpoint for": "Set mountpoint for",
            "Or enter custom mountpoint:": "Or enter custom mountpoint:",
            "/custom/path": "/custom/path",
            "Set": "Set",
            "/home": "/home",
            "/boot": "/boot",
            "/var": "/var",
            "/tmp": "/tmp",
            "/usr": "/usr",

            "Invalid Size": "Invalid Size",
            "Size must be greater than 0": "Size must be greater than 0",
            "Please enter a valid number": "Please enter a valid number",
            "Invalid Mountpoint": "Invalid Mountpoint",
            "Mountpoint must start with '/'": "Mountpoint must start with '/'",

            "Creating Partition": "Creating Partition",
            "Creating partition, please wait...": "Creating partition, please wait...",
            "Removing Partition": "Removing Partition",
            "Removing partition": "Removing partition",
            "Formatting Partition": "Formatting Partition",
            "Formatting": "Formatting",
            "with": "with",
            "Setting Boot Flag": "Setting Boot Flag",
            "Setting boot flag for": "Setting boot flag for",
            "Please wait...": "Please wait...",

            "Partition created successfully:": "Partition created successfully:",
            "Partition removed successfully": "Partition removed successfully",
            "formatted successfully with": "formatted successfully with",
            "Mountpoint Set": "Mountpoint Set",
            "Mountpoint for": "Mountpoint for",
            "set to:": "set to:",
            "Configuration saved and /etc/fstab updated.": "Configuration saved and /etc/fstab updated.",
            "Boot flag enabled for": "Boot flag enabled for",
            "Boot flag disabled for": "Boot flag disabled for",

            "Create partition on": "Create partition on",
            "Set mountpoint for": "Set mountpoint for",
            "Removing partition": "Removing partition",
            "Formatting": "Formatting",
            "with": "with",
            "Setting boot flag for": "Setting boot flag for",

            "Selected:": "Selected:",

            "Size:": "Size:",
            "Type:": "Type:",
            "Mount:": "Mount:",
            "disk": "disk",
            "part": "part",
            "loop": "loop",

            "vfat": "vfat",
            "xfs": "xfs",
            "f2fs": "f2fs",
            "reiserfs": "reiserfs",
            "jfs": "jfs",
            "nilfs2": "nilfs2",

            # User Creation Widget
            "Create Your User Account": "Create Your User Account",
            "Set up your account to log in to the system.": "Set up your account to log in to the system.",
            "User Account": "User Account",
            "Username": "Username",
            "e.g., john": "e.g., john",
            "Full Name": "Full Name",
            "e.g., John Doe": "e.g., John Doe",
            "Password": "Password",
            "Repeat Password": "Repeat Password",
            "System Configuration": "System Configuration",
            "Computer's Name": "Computer's Name",
            "Linexin-PC": "Linexin-PC",
            "Enable Root account?": "Enable Root account?",
            "Root Password": "Root Password",
            "Repeat Root Password": "Repeat Root Password",
            "Username is required": "Username is required",
            "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens": "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens",
            "Username must be 32 characters or less": "Username must be 32 characters or less",
            "is a reserved system username": "is a reserved system username",
            "Computer name is required": "Computer name is required",
            "Must start and end with a letter or number, and contain only letters, numbers, and hyphens": "Must start and end with a letter or number, and contain only letters, numbers, and hyphens",
            "Computer name must be 63 characters or less": "Computer name must be 63 characters or less",
            "Passwords do not match": "Passwords do not match",
            "Root passwords do not match": "Root passwords do not match",
            "Error": "Error",
            "Failed to generate configuration files:": "Failed to generate configuration files:",
            "Try specifying a different output directory with more space.": "Try specifying a different output directory with more space.",

            # Password strength indicators
            "Weak": "Weak",
            "Fair": "Fair",
            "Good": "Good",
            "Strong": "Strong",
            "at least 8 characters": "at least 8 characters",
            "lowercase letters": "lowercase letters",
            "uppercase letters": "uppercase letters",
            "numbers": "numbers",
            "special characters": "special characters",
            "add": "add",
            "(add": "(add",
            ")": ")",

            # Installation Widget
            "The installation could not be completed.": "The installation could not be completed.",
            "Please check the details for more information.": "Please check the details for more information.",
            "Installation cancelled by user.": "Installation cancelled by user.",
            "Error executing step": "Error executing step",
            "Step failed:": "Step failed:",
            "(exit code:": "(exit code:",
            "Warning: Non-critical step failed:": "Warning: Non-critical step failed:",
            "completed successfully": "completed successfully",
            "Files copied:": "Files copied:",

            "Installing System": "Installing System",
            "Preparing installation...": "Preparing installation...",
            "Please wait while the system prepares for installation": "Please wait while the system prepares for installation",
            "Step": "Step",
            "of": "of",
            "Elapsed time": "Elapsed time",
            "Show Details": "Show Details",
            "Hide Details": "Hide Details",
            "Cancel Installation?": "Cancel Installation?",
            "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.": "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.",
            "Keep Installing": "Keep Installing",
            "Cancel Installation": "Cancel Installation",
            "Cancelling installation...": "Cancelling installation...",
            "Installation Complete!": "Installation Complete!",
            "System installed successfully": "System installed successfully",
            "Your system has been installed and is ready to use.": "Your system has been installed and is ready to use.",
            "Finish": "Finish",
            "Installation Failed": "Installation Failed",
            "An error occurred during installation": "An error occurred during installation",
            "Try Again": "Try Again",
            "Installation Cancelled": "Installation Cancelled",
            "Installation was cancelled by user": "Installation was cancelled by user",
            "The installation process was interrupted.": "The installation process was interrupted.",
            "Restart": "Restart",
            "INSTALLATION COMPLETED SUCCESSFULLY!": "INSTALLATION COMPLETED SUCCESSFULLY!",
            
            # Installation steps
            "Creating installation directories": "Creating installation directories",
            "Setting up temporary installation directories": "Setting up temporary installation directories",
            "Mounting installation image": "Mounting installation image",
            "containing the system image": "containing the system image",
            "Mounting root partition": "Mounting root partition",
            "Mounting the root partition based on /etc/fstab": "Mounting the root partition based on /etc/fstab",
            "Creating boot directory": "Creating boot directory",
            "Creating boot mount point": "Creating boot mount point",
            "Mounting boot partition": "Mounting boot partition",
            "Mounting the boot partition based on /etc/fstab": "Mounting the boot partition based on /etc/fstab",
            "Copying system files": "Copying system files",
            "Copying the system image to your disk. This may take several minutes...": "Copying the system image to your disk. This may take several minutes...",
            "Verifying file copy": "Verifying file copy",
            "Verifying that files were copied successfully": "Verifying that files were copied successfully",
            "Removing live ISO fstab": "Removing live ISO fstab",
            "Removing the live ISO filesystem configuration": "Removing the live ISO filesystem configuration",
            "Applying installer configuration": "Applying installer configuration",
            "Copying installer configuration files to the new system": "Copying installer configuration files to the new system",
            "Removing wheel sudo configuration": "Removing wheel sudo configuration",
            "Removing temporary sudo configuration": "Removing temporary sudo configuration",
            "Changing system's language": "Changing system's language",
            "Changing system's language to a selected one": "Changing system's language to a selected one",
            "Setting up timezone": "Setting up timezone",
            "Linking timezone to the selected one in the installer": "Linking timezone to the selected one in the installer",
            "Setting up keyboard layout": "Setting up keyboard layout",
            "Using proper commands in chroot environment to set up keyboard layout": "Using proper commands in chroot environment to set up keyboard layout",
            "Adding user": "Adding user",
            "Adding user, setting it's password and hostname for the PC": "Adding user, setting it's password and hostname for the PC",
            "Cleaning out rootfs": "Cleaning out rootfs",
            "Cleaning out rootfs from LiveISO's config and applying post-install scripts": "Cleaning out rootfs from LiveISO's config and applying post-install scripts",
            "Installing bootloader": "Installing bootloader",
            "Checking for other systems installed and installing proper bootloader": "Checking for other systems installed and installing proper bootloader",
            "Unmounting filesystems": "Unmounting filesystems",
            "Safely unmounting all filesystems": "Safely unmounting all filesystems",
            "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout": "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout",
            "Setting up desktop layout": "Setting up desktop layout",
            
            # Finish Widget
            "Installation has finished successfully!": "Installation has finished successfully!",
            "Everything is set up for you. Thank you for choosing Linexin.": "Everything is set up for you. Thank you for choosing Linexin.",
            "Reboot the system to finish installation.": "Reboot the system to finish installation.",
            "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.": "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.",
            "Reboot": "Reboot",
            "Reboot System": "Reboot System",
            "Are you sure you want to reboot now?": "Are you sure you want to reboot now?",
            "Reboot Failed": "Reboot Failed",
            "Could not reboot the system. Please reboot manually.": "Could not reboot the system. Please reboot manually.",
            "Installation Complete": "Installation Complete"

        }
        
        self.translations["pl_PL.UTF-8"] = {
            #Language
            "Select a Language": "Wybierz język",
            "Search for a language...": "Szukaj języka...",
            "Back": "Wróć",
            "Continue": "Kontynuuj",

            #Timezone
            "Select Your Timezone": "Wybierz swoją strefę czasową",
            "Choose a city in your region. This will be used to set the clock.": "Wybierz miasto w swoim regionie. Zostanie ono użyte do ustawienia zegara.",
            "Search for your city or region...": "Szukaj miasta lub regionu...",
            "Advanced": "Zaawansowane",
            "Proceed": "Dalej",
            "Cancel": "Anuluj",
            "Next": "Dalej",
            "Previous": "Wstecz",
            "Finish": "Zakończ",

            #Keyboard
            "Select Your Keyboard Layout": "Wybierz układ klawiatury",
            "Test your layout here:": "Przetestuj układ tutaj:",
            "You can add more after installation.": "Możesz dodać więcej po instalacji.",

            # Disk Utility Widget
            "Select Installation Destination": "Wybierz Miejsce Docelowe Instalacji",
            "Click on a disk or partition to select it or modify it.": "Kliknij dysk lub partycję, aby wybrać lub zmodyfikować.",
            "No Disks Found": "Nie znaleziono dysków",
            "Size": "Rozmiar",
            "Type": "Typ",
            "Mount": "Montowanie",
            "Bootable": "Startowy",
            "Not configured": "Nieskonfigurowane",
            "Unallocated": "Niezajęte",
            "Free Space": "Wolne miejsce",
            "Back": "Wróć",
            "Add": "Dodaj",
            "Remove": "Usuń",
            "Format": "Formatuj",
            "Auto": "Automatycznie",
            "Filesystem": "System plików",
            "Mountpoint": "Punkt montowania",
            "Boot flag": "Flaga startowa",
            "Continue": "Kontynuuj",
            "Selected": "Wybrano",
            "Loading...": "Ładowanie...",
            "Scanning for storage devices.": "Wyszukiwanie urządzeń pamięci masowej.",
            "Waiting for Gparted": "Oczekiwanie na Gparted",
            "The disk list will be refreshed after you close the Gparted application.": "Lista dysków zostanie odświeżona po zamknięciu aplikacji Gparted.",
            "Error: Gparted Not Found": "Błąd: nie znaleziono Gparted",
            "Could not launch Gparted": "Nie można uruchomić Gparted",
            "OK": "OK",
            
            "Missing Required Configuration": "Brak wymaganej konfiguracji",
            "No bootable partition found": "Nie znaleziono partycji startowej",
            "No root (/) mountpoint configured": "Nie skonfigurowano punktu montowania root (/)",
            "Would you like to automatically configure the selected device?": "Czy chcesz automatycznie skonfigurować wybrane urządzenie?",
            "Auto-configure will:": "Automatyczna konfiguracja wykona:",
            "Remove the selected partition/disk": "Usunięcie wybranej partycji/dysku",
            "Create a 1GB FAT32 boot partition at /boot": "Utworzenie partycji rozruchowej FAT32 1 GB w /boot",
            "Create an ext4 root partition at / with remaining space": "Utworzenie partycji root ext4 w / z pozostałym miejscem",
            "WARNING: All data on the selected device will be lost!": "OSTRZEŻENIE: wszystkie dane na wybranym urządzeniu zostaną utracone!",
            "Go Back": "Wróć",
            "Continue Anyway": "Kontynuuj mimo to",
            "Auto-Configure": "Skonfiguruj automatycznie",
            "Configuration Required": "Wymagana konfiguracja",
            "Please select a disk and configure:": "Wybierz dysk i skonfiguruj:",
            "At least one bootable partition": "Przynajmniej jedna partycja startowa",
            "A root (/) mountpoint": "Punkt montowania root (/)",
            
            "Auto-Configuring": "Automatyczna konfiguracja",
            "Setting up UEFI boot and root partitions...": "Konfigurowanie partycji UEFI boot i root...",
            "Setting up Legacy boot and root partitions...": "Konfigurowanie partycji Legacy boot i root...",
            "Formatting Disk": "Formatowanie dysku",
            "Wiping disk and creating UEFI partitions...": "Czyszczenie dysku i tworzenie partycji UEFI...",
            "Wiping disk and creating Legacy partitions...": "Czyszczenie dysku i tworzenie partycji Legacy...",
            "Success": "Sukces",
            "UEFI disk configured successfully!": "Dysk UEFI został pomyślnie skonfigurowany!",
            "Created partitions:": "Utworzone partycje:",
            "1 GiB FAT32 at /boot (ESP)": "1 GiB FAT32 w /boot (ESP)",
            "ext4 at /": "ext4 w /",
            "fstab has been updated.": "Plik fstab został zaktualizowany.",
            "Legacy disk configured successfully!": "Dysk Legacy został pomyślnie skonfigurowany!",
            "ext4 at / (bootable)": "ext4 w / (startowy)",
            "Note: GRUB will be installed to the MBR of": "Uwaga: GRUB zostanie zainstalowany w MBR dysku",
            "Error": "Błąd",
            
            "Remove Partition": "Usuń partycję",
            "Are you sure you want to remove partition": "Czy na pewno chcesz usunąć partycję",
            "This action cannot be undone and all data will be lost!": "Ta operacja jest nieodwracalna, wszystkie dane zostaną utracone!",
            "Cancel": "Anuluj",
            "Format Partition": "Formatuj partycję",
            "Select filesystem type for": "Wybierz system plików dla",
            "Warning: All data will be lost!": "Ostrzeżenie: wszystkie dane zostaną utracone!",
            "ext4": "ext4",
            "Btrfs": "Btrfs",
            "NTFS": "NTFS",
            "FAT32": "FAT32",
            "exFAT": "exFAT",
            "swap": "swap",
            "Unformatted": "Niesformatowane",

            "Format Partition": "Formatuj partycję",
            "Select filesystem type for": "Wybierz system plików dla",
            "Change Filesystem": "Zmień system plików",
            "Change filesystem type for": "Zmień system plików dla",
            "Warning: This will reformat the partition and all data will be lost!": "Ostrzeżenie: To sformatuje partycję i wszystkie dane zostaną utracone!",
            "Boot Flag": "Flaga rozruchowa",
            "Toggle boot flag for": "Przełącz flagę rozruchową dla",
            "This will modify the partition to be visible in the boot menu.": "To zmodyfikuje partycję, aby była widoczna w menu rozruchowym.",
            "Enable Boot Flag": "Włącz flagę rozruchową",
            "Disable Boot Flag": "Wyłącz flagę rozruchową",
            "No Selection": "Brak wyboru",
            "Please select a disk first.": "Najpierw wybierz dysk.",
            "Please select a partition first.": "Najpierw wybierz partycję.",
            "Invalid Selection": "Nieprawidłowy wybór",
            "Cannot add partition to a partition. Please select a disk.": "Nie można dodać partycji do partycji. Wybierz dysk.",
            "Can only remove partitions. Please select a partition.": "Można usuwać tylko partycje. Wybierz partycję.",
            "Format is only available for partitions. Use Auto for whole disks or free space.": "Formatowanie jest dostępne tylko dla partycji. Użyj Auto dla całych dysków lub wolnego miejsca.",
            "Auto configuration is only available for whole disks or free space.": "Automatyczna konfiguracja jest dostępna tylko dla całych dysków lub wolnego miejsca.",
            "Can only change filesystem of partitions. Please select a partition.": "Można zmienić system plików tylko partycji. Wybierz partycję.",
            "Can only set mountpoint for partitions. Please select a partition.": "Można ustawić punkt montowania tylko dla partycji. Wybierz partycję.",
            "Can only set boot flag on partitions. Please select a partition.": "Można ustawić flagę rozruchową tylko na partycjach. Wybierz partycję.",
            "Please select a disk or free space first.": "Najpierw wybierz dysk lub wolne miejsce.",
            "Please select a partition or free space first.": "Najpierw wybierz partycję lub wolne miejsce.",
            "No device selected": "Nie wybrano urządzenia",
            "Format Entire Disk": "Formatuj cały dysk",
            "This will COMPLETELY WIPE": "To CAŁKOWICIE WYMAŻE",
            "and create:": "i utworzy:",
            "1 GiB FAT32 EFI System Partition at /boot": "1 GiB partycję systemową EFI FAT32 w /boot",
            "Remaining space as ext4 partition at /": "Pozostałe miejsce jako partycja ext4 w /",
            "Single ext4 partition at / (bootable for Legacy boot)": "Pojedyncza partycja ext4 w / (rozruchowa dla Legacy boot)",
            "ALL DATA WILL BE LOST! Are you sure?": "WSZYSTKIE DANE ZOSTANĄ UTRACONE! Czy na pewno?",
            "Note: GRUB will be installed to the MBR": "Uwaga: GRUB zostanie zainstalowany w MBR",
            "Wipe Disk": "Wymaż dysk",
            "Are you sure you want to remove partition": "Czy na pewno chcesz usunąć partycję",
            "Toggle boot flag for": "Przełącz flagę rozruchową dla",
            "?": "?",
            ":": ":",
            "The following requirements are missing:": "Brakuje następujących wymagań:",
            
            "Create Partition": "Utwórz partycję",
            "Create partition on": "Utwórz partycję na",
            "Size:": "Rozmiar:",
            "10 or leave empty for max": "10 lub pozostaw puste dla maks.",
            "MB": "MB",
            "GB": "GB",
            "TB": "TB", 
            "Filesystem:": "System plików:",
            "Create": "Utwórz",

            "Set Mountpoint": "Ustaw punkt montowania",
            "Set mountpoint for": "Ustaw punkt montowania dla",
            "Or enter custom mountpoint:": "Lub wprowadź własny punkt montowania:",
            "/custom/path": "/własna/ścieżka",
            "Set": "Ustaw",
            "/home": "/home",
            "/boot": "/boot",
            "/var": "/var",
            "/tmp": "/tmp",
            "/usr": "/usr",

            "Invalid Size": "Nieprawidłowy rozmiar",
            "Size must be greater than 0": "Rozmiar musi być większy niż 0",
            "Please enter a valid number": "Wprowadź prawidłową liczbę",
            "Invalid Mountpoint": "Nieprawidłowy punkt montowania",
            "Mountpoint must start with '/'": "Punkt montowania musi zaczynać się od '/'",

            "Creating Partition": "Tworzenie partycji",
            "Creating partition, please wait...": "Tworzenie partycji, proszę czekać...",
            "Removing Partition": "Usuwanie partycji",
            "Removing partition": "Usuwanie partycji",
            "Formatting Partition": "Formatowanie partycji",
            "Formatting": "Formatowanie",
            "with": "na",
            "Setting Boot Flag": "Ustawianie flagi rozruchowej",
            "Setting boot flag for": "Ustawianie flagi rozruchowej dla",
            "Please wait...": "Proszę czekać...",

            "Partition created successfully:": "Partycja utworzona pomyślnie:",
            "Partition removed successfully": "Partycja usunięta pomyślnie",
            "formatted successfully with": "sformatowana pomyślnie na",
            "Mountpoint Set": "Punkt montowania ustawiony",
            "Mountpoint for": "Punkt montowania dla",
            "set to:": "ustawiony na:",
            "Configuration saved and /etc/fstab updated.": "Konfiguracja zapisana i /etc/fstab zaktualizowany.",
            "Boot flag enabled for": "Flaga rozruchowa włączona dla",
            "Boot flag disabled for": "Flaga rozruchowa wyłączona dla",

            "Create partition on": "Utwórz partycję na",
            "Set mountpoint for": "Ustaw punkt montowania dla",
            "Removing partition": "Usuwanie partycji",
            "Formatting": "Formatowanie",
            "with": "na",
            "Setting boot flag for": "Ustawianie flagi rozruchowej dla",

            "Selected:": "Wybrano:",

            "Size:": "Rozmiar:",
            "Type:": "Typ:",
            "Mount:": "Montowanie:",
            "disk": "dysk",
            "part": "partycja",
            "loop": "pętla",

            "vfat": "vfat",
            "xfs": "xfs",
            "f2fs": "f2fs",
            "reiserfs": "reiserfs",
            "jfs": "jfs",
            "nilfs2": "nilfs2",

            # User Creation Widget
            "Create Your User Account": "Utwórz swoje konto użytkownika",
            "Set up your account to log in to the system.": "Skonfiguruj swoje konto, aby zalogować się do systemu.",
            "User Account": "Konto użytkownika",
            "Username": "Nazwa użytkownika",
            "e.g., john": "np. jan",
            "Full Name": "Pełna nazwa",
            "e.g., John Doe": "np. Jan Kowalski",
            "Password": "Hasło",
            "Repeat Password": "Powtórz hasło",
            "System Configuration": "Konfiguracja systemu",
            "Computer's Name": "Nazwa komputera",
            "Linexin-PC": "Linexin-PC",
            "Enable Root account?": "Włączyć konto root?",
            "Root Password": "Hasło root",
            "Repeat Root Password": "Powtórz hasło root",
            "Username is required": "Nazwa użytkownika jest wymagana",
            "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens": "Nazwa użytkownika musi zaczynać się od litery lub podkreślenia i zawierać tylko małe litery, cyfry, podkreślenia i myślniki",
            "Username must be 32 characters or less": "Nazwa użytkownika musi mieć 32 znaki lub mniej",
            "is a reserved system username": "jest zarezerwowaną nazwą użytkownika systemowego",
            "Computer name is required": "Nazwa komputera jest wymagana",
            "Must start and end with a letter or number, and contain only letters, numbers, and hyphens": "Musi zaczynać się i kończyć literą lub cyfrą i zawierać tylko litery, cyfry i myślniki",
            "Computer name must be 63 characters or less": "Nazwa komputera musi mieć 63 znaki lub mniej",
            "Passwords do not match": "Hasła nie pasują do siebie",
            "Root passwords do not match": "Hasła root nie pasują do siebie",
            "Error": "Błąd",
            "Failed to generate configuration files:": "Nie udało się wygenerować plików konfiguracyjnych:",
            "Try specifying a different output directory with more space.": "Spróbuj określić inny katalog wyjściowy z większą ilością miejsca.",

            # Password strength indicators
            "Weak": "Słabe",
            "Fair": "Średnie",
            "Good": "Dobre",
            "Strong": "Silne",
            "at least 8 characters": "co najmniej 8 znaków",
            "lowercase letters": "małe litery",
            "uppercase letters": "duże litery",
            "numbers": "cyfry",
            "special characters": "znaki specjalne",
            "add": "dodaj",
            "(add": "(dodaj",
            ")": ")",

            # Installation Widget
            "The installation could not be completed.": "Instalacja nie mogła zostać zakończona.",
            "Please check the details for more information.": "Sprawdź szczegóły, aby uzyskać więcej informacji.",
            "Installation cancelled by user.": "Instalacja anulowana przez użytkownika.",
            "Error executing step": "Błąd podczas wykonywania kroku",
            "Step failed:": "Krok nie powiódł się:",
            "(exit code:": "(kod wyjścia:",
            "Warning: Non-critical step failed:": "Ostrzeżenie: Niekrytyczny krok nie powiódł się:",
            "completed successfully": "zakończono pomyślnie",
            "Files copied:": "Skopiowane pliki:",

            "Installing System": "Instalowanie systemu",
            "Preparing installation...": "Przygotowywanie instalacji...",
            "Please wait while the system prepares for installation": "Proszę czekać, system przygotowuje się do instalacji",
            "Step": "Krok",
            "of": "z",
            "Elapsed time": "Czas trwania",
            "Show Details": "Pokaż szczegóły",
            "Hide Details": "Ukryj szczegóły",
            "Cancel Installation?": "Anulować instalację?",
            "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.": "Czy na pewno chcesz anulować instalację? System może pozostać w stanie nieukończonym.",
            "Keep Installing": "Kontynuuj instalację",
            "Cancel Installation": "Anuluj instalację",
            "Cancelling installation...": "Anulowanie instalacji...",
            "Installation Complete!": "Instalacja zakończona!",
            "System installed successfully": "System został pomyślnie zainstalowany",
            "Your system has been installed and is ready to use.": "Twój system został zainstalowany i jest gotowy do użycia.",
            "Finish": "Zakończ",
            "Installation Failed": "Instalacja nie powiodła się",
            "An error occurred during installation": "Wystąpił błąd podczas instalacji",
            "Try Again": "Spróbuj ponownie",
            "Installation Cancelled": "Instalacja anulowana",
            "Installation was cancelled by user": "Instalacja została anulowana przez użytkownika",
            "The installation process was interrupted.": "Proces instalacji został przerwany.",
            "Restart": "Uruchom ponownie",
            "INSTALLATION COMPLETED SUCCESSFULLY!": "INSTALACJA ZAKOŃCZONA SUKCESEM!",
            
            # Installation steps
            "Creating installation directories": "Tworzenie katalogów instalacyjnych",
            "Setting up temporary installation directories": "Konfigurowanie tymczasowych katalogów instalacyjnych",
            "Mounting installation image": "Montowanie obrazu instalacyjnego",
            "containing the system image": "zawierającego obraz systemu",
            "Mounting root partition": "Montowanie partycji root",
            "Mounting the root partition based on /etc/fstab": "Montowanie partycji root zgodnie z /etc/fstab",
            "Creating boot directory": "Tworzenie katalogu boot",
            "Creating boot mount point": "Tworzenie punktu montowania boot",
            "Mounting boot partition": "Montowanie partycji boot",
            "Mounting the boot partition based on /etc/fstab": "Montowanie partycji boot zgodnie z /etc/fstab",
            "Copying system files": "Kopiowanie plików systemowych",
            "Copying the system image to your disk. This may take several minutes...": "Kopiowanie obrazu systemu na dysk. To może potrwać kilka minut...",
            "Verifying file copy": "Sprawdzanie kopiowania plików",
            "Verifying that files were copied successfully": "Sprawdzanie, czy pliki zostały skopiowane pomyślnie",
            "Removing live ISO fstab": "Usuwanie pliku fstab LiveISO",
            "Removing the live ISO filesystem configuration": "Usuwanie konfiguracji systemu plików LiveISO",
            "Applying installer configuration": "Zastosowywanie konfiguracji instalatora",
            "Copying installer configuration files to the new system": "Kopiowanie plików konfiguracyjnych instalatora do nowego systemu",
            "Removing wheel sudo configuration": "Usuwanie konfiguracji sudo dla wheel",
            "Removing temporary sudo configuration": "Usuwanie tymczasowej konfiguracji sudo",
            "Changing system's language": "Zmiana języka systemu",
            "Changing system's language to a selected one": "Zmiana języka systemu na wybrany",
            "Setting up timezone": "Ustawianie strefy czasowej",
            "Linking timezone to the selected one in the installer": "Łączenie strefy czasowej z wybraną w instalatorze",
            "Setting up keyboard layout": "Ustawianie układu klawiatury",
            "Using proper commands in chroot environment to set up keyboard layout": "Używanie odpowiednich poleceń w środowisku chroot do ustawienia układu klawiatury",
            "Adding user": "Dodawanie użytkownika",
            "Adding user, setting it's password and hostname for the PC": "Dodawanie użytkownika, ustawianie hasła i nazwy hosta komputera",
            "Cleaning out rootfs": "Czyszczenie rootfs",
            "Cleaning out rootfs from LiveISO's config and applying post-install scripts": "Czyszczenie rootfs z konfiguracji LiveISO i stosowanie skryptów po instalacji",
            "Installing bootloader": "Instalowanie bootloadera",
            "Checking for other systems installed and installing proper bootloader": "Sprawdzanie innych zainstalowanych systemów i instalowanie odpowiedniego bootloadera",
            "Unmounting filesystems": "Odmontowywanie systemów plików",
            "Safely unmounting all filesystems": "Bezpieczne odmontowywanie wszystkich systemów plików",
            "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout": "Zmienianie ustawień rozszerzeń GNOME, by oddawały wybrany motyw",
            "Setting up desktop layout": "Ustawianie układu pulpitu",
            
            # Finish Widget
            "Installation has finished successfully!": "Instalacja zakończyła się pomyślnie!",
            "Everything is set up for you. Thank you for choosing Linexin.": "Wszystko zostało skonfigurowane. Dziękujemy za wybór Linexin.",
            "Reboot the system to finish installation.": "Uruchom ponownie system, aby zakończyć instalację.",
            "Reboot": "Uruchom ponownie",
            "Reboot System": "Uruchom ponownie system",
            "Are you sure you want to reboot now?": "Czy na pewno chcesz teraz uruchomić ponownie?",
            "Reboot Failed": "Ponowne uruchomienie nie powiodło się",
            "Could not reboot the system. Please reboot manually.": "Nie udało się uruchomić ponownie systemu. Zrób to ręcznie.",
            "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.": "Wszystko zostało skonfigurowane. Dziękujemy za wybór Linexin.\nUruchom ponownie system, aby zakończyć instalację.",
            "Installation Complete": "Instalacja zakończona"

        }

        self.translations["fr_FR.UTF-8"] = {
            # Exact text matching (what appears in your UI)
            # Language
            "Select a Language": "Sélectionner une langue",
            "Search for a language...": "Rechercher une langue...",
            "Back": "Retour",
            "Continue": "Continuer",
            # Timezone
            "Select Your Timezone": "Sélectionnez votre fuseau horaire",
            "Choose a city in your region. This will be used to set the clock.": "Choisissez une ville dans votre région. Cela sera utilisé pour régler l'horloge.",
            "Search for your city or region...": "Recherchez votre ville ou région...",
            "Advanced": "Avancé",
            "Proceed": "Procéder",
            "Cancel": "Annuler",
            "Next": "Suivant",
            "Previous": "Précédent",
            "Finish": "Terminer",
            # Keyboard
            "Select Your Keyboard Layout": "Sélectionnez votre disposition de clavier",
            "Test your layout here:": "Testez votre disposition ici :",
            "You can add more after installation.": "Vous pourrez en ajouter d'autres après l'installation.",
            # Disk Utility Widget
            "Select Installation Destination": "Sélectionner un disque",
            "Click on a disk or partition to select it or modify it.": "Cliquez sur un disque ou une partition pour la sélectionner ou la modifier.",
            "No Disks Found": "Aucun disque trouvé",
            "Size": "Taille",
            "Type": "Type",
            "Mount": "Montage",
            "Bootable": "Amorçable",
            "Not configured": "Non configuré",
            "Unallocated": "Non alloué",
            "Free Space": "Espace libre",
            "Back": "Retour",
            "Add": "Ajouter",
            "Remove": "Supprimer",
            "Format": "Formater",
            "Auto": "Auto",
            "Filesystem": "Système de fichiers",
            "Mountpoint": "Point de montage",
            "Boot flag": "Indicateur d'amorçage",
            "Continue": "Continuer",
            "Selected": "Sélectionné",
            "Loading...": "Chargement...",
            "Scanning for storage devices.": "Recherche de périphériques de stockage.",
            "Waiting for Gparted": "En attente de Gparted",
            "The disk list will be refreshed after you close the Gparted application.": "La liste des disques sera actualisée après la fermeture de l'application Gparted.",
            "Error: Gparted Not Found": "Erreur : Gparted introuvable",
            "Could not launch Gparted": "Impossible de lancer Gparted",
            "OK": "OK",
            "Missing Required Configuration": "Configuration requise manquante",
            "No bootable partition found": "Aucune partition amorçable trouvée",
            "No root (/) mountpoint configured": "Aucun point de montage racine (/) configuré",
            "Would you like to automatically configure the selected device?": "Voulez-vous configurer automatiquement le périphérique sélectionné ?",
            "Auto-configure will:": "La configuration automatique va :",
            "Remove the selected partition/disk": "Supprimer la partition/le disque sélectionné",
            "Create a 1GB FAT32 boot partition at /boot": "Créer une partition d'amorçage FAT32 de 1 Go à /boot",
            "Create an ext4 root partition at / with remaining space": "Créer une partition racine ext4 à / avec l'espace restant",
            "WARNING: All data on the selected device will be lost!": "AVERTISSEMENT : Toutes les données sur le périphérique sélectionné seront perdues !",
            "Go Back": "Retour",
            "Continue Anyway": "Continuer quand même",
            "Auto-Configure": "Configuration automatique",
            "Configuration Required": "Configuration requise",
            "Please select a disk and configure:": "Veuillez sélectionner un disque et configurer :",
            "At least one bootable partition": "Au moins une partition amorçable",
            "A root (/) mountpoint": "Un point de montage racine (/)",
            "Auto-Configuring": "Configuration automatique en cours",
            "Setting up UEFI boot and root partitions...": "Configuration des partitions UEFI d'amorçage et racine...",
            "Setting up Legacy boot and root partitions...": "Configuration des partitions Legacy d'amorçage et racine...",
            "Formatting Disk": "Formatage du disque",
            "Wiping disk and creating UEFI partitions...": "Effacement du disque et création des partitions UEFI...",
            "Wiping disk and creating Legacy partitions...": "Effacement du disque et création des partitions Legacy...",
            "Success": "Succès",
            "UEFI disk configured successfully!": "Disque UEFI configuré avec succès !",
            "Created partitions:": "Partitions créées :",
            "1 GiB FAT32 at /boot (ESP)": "1 Gio FAT32 à /boot (ESP)",
            "ext4 at /": "ext4 à /",
            "fstab has been updated.": "fstab a été mis à jour.",
            "Legacy disk configured successfully!": "Disque Legacy configuré avec succès !",
            "ext4 at / (bootable)": "ext4 à / (amorçable)",
            "Note: GRUB will be installed to the MBR of": "Note : GRUB sera installé sur le MBR de",
            "Error": "Erreur",
            "Remove Partition": "Supprimer la partition",
            "Are you sure you want to remove partition": "Êtes-vous sûr de vouloir supprimer la partition",
            "This action cannot be undone and all data will be lost!": "Cette action ne peut pas être annulée et toutes les données seront perdues !",
            "Cancel": "Annuler",
            "Format Partition": "Formater la partition",
            "Select filesystem type for": "Sélectionner le type de système de fichiers pour",
            "Warning: All data will be lost!": "Avertissement : Toutes les données seront perdues !",
            "ext4": "ext4",
            "Btrfs": "Btrfs",
            "NTFS": "NTFS",
            "FAT32": "FAT32",
            "exFAT": "exFAT",
            "swap": "swap",
            "Unformatted": "Non formaté",
            "Format Partition": "Formater la partition",
            "Select filesystem type for": "Sélectionner le type de système de fichiers pour",
            "Change Filesystem": "Changer le système de fichiers",
            "Change filesystem type for": "Changer le type de système de fichiers pour",
            "Warning: This will reformat the partition and all data will be lost!": "Avertissement : Cela reformatera la partition et toutes les données seront perdues !",
            "Boot Flag": "Indicateur d'amorçage",
            "Toggle boot flag for": "Basculer l'indicateur d'amorçage pour",
            "This will modify the partition to be visible in the boot menu.": "Cela modifiera la partition pour qu'elle soit visible dans le menu d'amorçage.",
            "Enable Boot Flag": "Activer l'indicateur d'amorçage",
            "Disable Boot Flag": "Désactiver l'indicateur d'amorçage",
            "No Selection": "Aucune sélection",
            "Please select a disk first.": "Veuillez d'abord sélectionner un disque.",
            "Please select a partition first.": "Veuillez d'abord sélectionner une partition.",
            "Invalid Selection": "Sélection invalide",
            "Cannot add partition to a partition. Please select a disk.": "Impossible d'ajouter une partition à une partition. Veuillez sélectionner un disque.",
            "Can only remove partitions. Please select a partition.": "Seules les partitions peuvent être supprimées. Veuillez sélectionner une partition.",
            "Format is only available for partitions. Use Auto for whole disks or free space.": "Le formatage n'est disponible que pour les partitions. Utilisez Auto pour les disques entiers ou l'espace libre.",
            "Auto configuration is only available for whole disks or free space.": "La configuration automatique n'est disponible que pour les disques entiers ou l'espace libre.",
            "Can only change filesystem of partitions. Please select a partition.": "Seul le système de fichiers des partitions peut être modifié. Veuillez sélectionner une partition.",
            "Can only set mountpoint for partitions. Please select a partition.": "Le point de montage ne peut être défini que pour les partitions. Veuillez sélectionner une partition.",
            "Can only set boot flag on partitions. Please select a partition.": "L'indicateur d'amorçage ne peut être défini que sur les partitions. Veuillez sélectionner une partition.",
            "Please select a disk or free space first.": "Veuillez d'abord sélectionner un disque ou de l'espace libre.",
            "Please select a partition or free space first.": "Veuillez d'abord sélectionner une partition ou de l'espace libre.",
            "No device selected": "Aucun périphérique sélectionné",
            "Format Entire Disk": "Formater le disque entier",
            "This will COMPLETELY WIPE": "Cela va COMPLÈTEMENT EFFACER",
            "and create:": "et créer :",
            "1 GiB FAT32 EFI System Partition at /boot": "Partition système EFI FAT32 de 1 Gio à /boot",
            "Remaining space as ext4 partition at /": "Espace restant comme partition ext4 à /",
            "Single ext4 partition at / (bootable for Legacy boot)": "Partition ext4 unique à / (amorçable pour le démarrage Legacy)",
            "ALL DATA WILL BE LOST! Are you sure?": "TOUTES LES DONNÉES SERONT PERDUES ! Êtes-vous sûr ?",
            "Note: GRUB will be installed to the MBR": "Note : GRUB sera installé sur le MBR",
            "Wipe Disk": "Effacer le disque",
            "Are you sure you want to remove partition": "Êtes-vous sûr de vouloir supprimer la partition",
            "Toggle boot flag for": "Basculer l'indicateur d'amorçage pour",
            "?": " ?",
            ":": " :",
            "The following requirements are missing:": "Les exigences suivantes sont manquantes :",
            "Create Partition": "Créer une partition",
            "Create partition on": "Créer une partition sur",
            "Size:": "Taille :",
            "10 or leave empty for max": "10 ou laisser vide pour le maximum",
            "MB": "Mo",
            "GB": "Go",
            "TB": "To",
            "Filesystem:": "Système de fichiers :",
            "Create": "Créer",
            "Set Mountpoint": "Définir le point de montage",
            "Set mountpoint for": "Définir le point de montage pour",
            "Or enter custom mountpoint:": "Ou entrez un point de montage personnalisé :",
            "/custom/path": "/chemin/personnalisé",
            "Set": "Définir",
            "/home": "/home",
            "/boot": "/boot",
            "/var": "/var",
            "/tmp": "/tmp",
            "/usr": "/usr",
            "Invalid Size": "Taille invalide",
            "Size must be greater than 0": "La taille doit être supérieure à 0",
            "Please enter a valid number": "Veuillez entrer un nombre valide",
            "Invalid Mountpoint": "Point de montage invalide",
            "Mountpoint must start with '/'": "Le point de montage doit commencer par '/'",
            "Creating Partition": "Création de la partition",
            "Creating partition, please wait...": "Création de la partition, veuillez patienter...",
            "Removing Partition": "Suppression de la partition",
            "Removing partition": "Suppression de la partition",
            "Formatting Partition": "Formatage de la partition",
            "Formatting": "Formatage",
            "with": "avec",
            "Setting Boot Flag": "Configuration de l'indicateur d'amorçage",
            "Setting boot flag for": "Configuration de l'indicateur d'amorçage pour",
            "Please wait...": "Veuillez patienter...",
            "Partition created successfully:": "Partition créée avec succès :",
            "Partition removed successfully": "Partition supprimée avec succès",
            "formatted successfully with": "formaté avec succès avec",
            "Mountpoint Set": "Point de montage défini",
            "Mountpoint for": "Point de montage pour",
            "set to:": "défini à :",
            "Configuration saved and /etc/fstab updated.": "Configuration enregistrée et /etc/fstab mis à jour.",
            "Boot flag enabled for": "Indicateur d'amorçage activé pour",
            "Boot flag disabled for": "Indicateur d'amorçage désactivé pour",
            "Create partition on": "Créer une partition sur",
            "Set mountpoint for": "Définir le point de montage pour",
            "Removing partition": "Suppression de la partition",
            "Formatting": "Formatage",
            "with": "avec",
            "Setting boot flag for": "Configuration de l'indicateur d'amorçage pour",
            "Selected:": "Sélectionné :",
            "Size:": "Taille :",
            "Type:": "Type :",
            "Mount:": "Montage :",
            "disk": "disque",
            "part": "part",
            "loop": "boucle",
            "vfat": "vfat",
            "xfs": "xfs",
            "f2fs": "f2fs",
            "reiserfs": "reiserfs",
            "jfs": "jfs",
            "nilfs2": "nilfs2",
            # User Creation Widget
            "Create Your User Account": "Créez votre compte utilisateur",
            "Set up your account to log in to the system.": "Configurez votre compte pour vous connecter au système.",
            "User Account": "Compte utilisateur",
            "Username": "Nom d'utilisateur",
            "e.g., john": "ex. : jean",
            "Full Name": "Nom complet",
            "e.g., John Doe": "ex. : Jean Dupont",
            "Password": "Mot de passe",
            "Repeat Password": "Répéter le mot de passe",
            "System Configuration": "Configuration système",
            "Computer's Name": "Nom de l'ordinateur",
            "Linexin-PC": "Linexin-PC",
            "Enable Root account?": "Activer le compte Root ?",
            "Root Password": "Mot de passe Root",
            "Repeat Root Password": "Répéter le mot de passe Root",
            "Username is required": "Le nom d'utilisateur est requis",
            "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens": "Le nom d'utilisateur doit commencer par une lettre ou un underscore, et contenir uniquement des lettres minuscules, des chiffres, des underscores et des tirets",
            "Username must be 32 characters or less": "Le nom d'utilisateur doit comporter 32 caractères ou moins",
            "is a reserved system username": "est un nom d'utilisateur système réservé",
            "Computer name is required": "Le nom de l'ordinateur est requis",
            "Must start and end with a letter or number, and contain only letters, numbers, and hyphens": "Doit commencer et finir par une lettre ou un chiffre, et contenir uniquement des lettres, des chiffres et des tirets",
            "Computer name must be 63 characters or less": "Le nom de l'ordinateur doit comporter 63 caractères ou moins",
            "Passwords do not match": "Les mots de passe ne correspondent pas",
            "Root passwords do not match": "Les mots de passe Root ne correspondent pas",
            "Error": "Erreur",
            "Failed to generate configuration files:": "Échec de la génération des fichiers de configuration :",
            "Try specifying a different output directory with more space.": "Essayez de spécifier un répertoire de sortie différent avec plus d'espace.",
            # Password strength indicators
            "Weak": "Faible",
            "Fair": "Passable",
            "Good": "Bon",
            "Strong": "Fort",
            "at least 8 characters": "au moins 8 caractères",
            "lowercase letters": "lettres minuscules",
            "uppercase letters": "lettres majuscules",
            "numbers": "chiffres",
            "special characters": "caractères spéciaux",
            "add": "ajouter",
            "(add": "(ajouter",
            ")": ")",
            # Installation Widget
            "The installation could not be completed.": "L'installation n'a pas pu être terminée.",
            "Please check the details for more information.": "Veuillez consulter les détails pour plus d'informations.",
            "Installation cancelled by user.": "Installation annulée par l'utilisateur.",
            "Error executing step": "Erreur lors de l'exécution de l'étape",
            "Step failed:": "Échec de l'étape :",
            "(exit code:": "(code de sortie :",
            "Warning: Non-critical step failed:": "Avertissement : Échec d'une étape non critique :",
            "completed successfully": "terminé avec succès",
            "Files copied:": "Fichiers copiés :",
            "Installing System": "Installation du système",
            "Preparing installation...": "Préparation de l'installation...",
            "Please wait while the system prepares for installation": "Veuillez patienter pendant que le système se prépare pour l'installation",
            "Step": "Étape",
            "of": "sur",
            "Elapsed time": "Temps écoulé",
            "Show Details": "Afficher les détails",
            "Hide Details": "Masquer les détails",
            "Cancel Installation?": "Annuler l'installation ?",
            "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.": "Êtes-vous sûr de vouloir annuler l'installation ? Cela peut laisser votre système dans un état incomplet.",
            "Keep Installing": "Continuer l'installation",
            "Cancel Installation": "Annuler l'installation",
            "Cancelling installation...": "Annulation de l'installation...",
            "Installation Complete!": "Installation terminée !",
            "System installed successfully": "Système installé avec succès",
            "Your system has been installed and is ready to use.": "Votre système a été installé et est prêt à l'emploi.",
            "Finish": "Terminer",
            "Installation Failed": "Échec de l'installation",
            "An error occurred during installation": "Une erreur s'est produite pendant l'installation",
            "Try Again": "Réessayer",
            "Installation Cancelled": "Installation annulée",
            "Installation was cancelled by user": "L'installation a été annulée par l'utilisateur",
            "The installation process was interrupted.": "Le processus d'installation a été interrompu.",
            "Restart": "Redémarrer",
            "INSTALLATION COMPLETED SUCCESSFULLY!": "INSTALLATION TERMINÉE AVEC SUCCÈS !",
            # Installation steps
            "Creating installation directories": "Création des répertoires d'installation",
            "Setting up temporary installation directories": "Configuration des répertoires d'installation temporaires",
            "Mounting installation image": "Montage de l'image d'installation",
            "containing the system image": "contenant l'image système",
            "Mounting root partition": "Montage de la partition racine",
            "Mounting the root partition based on /etc/fstab": "Montage de la partition racine basé sur /etc/fstab",
            "Creating boot directory": "Création du répertoire de démarrage",
            "Creating boot mount point": "Création du point de montage de démarrage",
            "Mounting boot partition": "Montage de la partition de démarrage",
            "Mounting the boot partition based on /etc/fstab": "Montage de la partition de démarrage basé sur /etc/fstab",
            "Copying system files": "Copie des fichiers système",
            "Copying the system image to your disk. This may take several minutes...": "Copie de l'image système sur votre disque. Cela peut prendre plusieurs minutes...",
            "Verifying file copy": "Vérification de la copie des fichiers",
            "Verifying that files were copied successfully": "Vérification que les fichiers ont été copiés avec succès",
            "Removing live ISO fstab": "Suppression du fstab de l'ISO live",
            "Removing the live ISO filesystem configuration": "Suppression de la configuration du système de fichiers de l'ISO live",
            "Applying installer configuration": "Application de la configuration de l'installateur",
            "Copying installer configuration files to the new system": "Copie des fichiers de configuration de l'installateur vers le nouveau système",
            "Removing wheel sudo configuration": "Suppression de la configuration sudo wheel",
            "Removing temporary sudo configuration": "Suppression de la configuration sudo temporaire",
            "Changing system's language": "Changement de la langue du système",
            "Changing system's language to a selected one": "Changement de la langue du système vers celle sélectionnée",
            "Setting up timezone": "Configuration du fuseau horaire",
            "Linking timezone to the selected one in the installer": "Liaison du fuseau horaire à celui sélectionné dans l'installateur",
            "Setting up keyboard layout": "Configuration de la disposition du clavier",
            "Using proper commands in chroot environment to set up keyboard layout": "Utilisation des commandes appropriées dans l'environnement chroot pour configurer la disposition du clavier",
            "Adding user": "Ajout de l'utilisateur",
            "Adding user, setting it's password and hostname for the PC": "Ajout de l'utilisateur, configuration de son mot de passe et du nom d'hôte du PC",
            "Cleaning out rootfs": "Nettoyage du rootfs",
            "Cleaning out rootfs from LiveISO's config and applying post-install scripts": "Nettoyage du rootfs de la configuration du LiveISO et application des scripts post-installation",
            "Installing bootloader": "Installation du chargeur de démarrage",
            "Checking for other systems installed and installing proper bootloader": "Vérification des autres systèmes installés et installation du chargeur de démarrage approprié",
            "Unmounting filesystems": "Démontage des systèmes de fichiers",
            "Safely unmounting all filesystems": "Démontage sécurisé de tous les systèmes de fichiers",
            "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout": "Modification des paramètres des extensions GNOME pour refléter l'apparence de la disposition de bureau sélectionnée",
            "Setting up desktop layout": "Configuration de la disposition du bureau",
            # Finish Widget
            "Installation has finished successfully!": "L'installation s'est terminée avec succès !",
            "Everything is set up for you. Thank you for choosing Linexin.": "Tout est configuré pour vous. Merci d'avoir choisi Linexin.",
            "Reboot the system to finish installation.": "Redémarrez le système pour terminer l'installation.",
            "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.": "Tout est configuré pour vous. Merci d'avoir choisi Linexin.\nRedémarrez le système pour terminer l'installation.",
            "Reboot": "Redémarrer",
            "Reboot System": "Redémarrer le système",
            "Are you sure you want to reboot now?": "Êtes-vous sûr de vouloir redémarrer maintenant ?",
            "Reboot Failed": "Échec du redémarrage",
            "Could not reboot the system. Please reboot manually.": "Impossible de redémarrer le système. Veuillez redémarrer manuellement.",
            "Installation Complete": "Installation terminée"
        }

        self.translations["de_DE.UTF-8"] = {
            # Exact text matching (what appears in your UI)
            # Language
            "Select a Language": "Sprache auswählen",
            "Search for a language...": "Nach einer Sprache suchen...",
            "Back": "Zurück",
            "Continue": "Weiter",
            # Timezone
            "Select Your Timezone": "Zeitzone auswählen",
            "Choose a city in your region. This will be used to set the clock.": "Wählen Sie eine Stadt in Ihrer Region. Diese wird zur Einstellung der Uhr verwendet.",
            "Search for your city or region...": "Nach Ihrer Stadt oder Region suchen...",
            "Advanced": "Erweitert",
            "Proceed": "Fortfahren",
            "Cancel": "Abbrechen",
            "Next": "Weiter",
            "Previous": "Zurück",
            "Finish": "Fertigstellen",
            # Keyboard
            "Select Your Keyboard Layout": "Tastaturbelegung auswählen",
            "Test your layout here:": "Testen Sie Ihre Belegung hier:",
            "You can add more after installation.": "Sie können nach der Installation weitere hinzufügen.",
            # Disk Utility Widget
            "Select Installation Destination": "Datenträger auswählen",
            "Click on a disk or partition to select it or modify it.": "Klicken Sie auf einen Datenträger oder eine Partition, um diese auszuwählen oder zu ändern.",
            "No Disks Found": "Keine Datenträger gefunden",
            "Size": "Größe",
            "Type": "Typ",
            "Mount": "Einhängepunkt",
            "Bootable": "Bootfähig",
            "Not configured": "Nicht konfiguriert",
            "Unallocated": "Nicht zugewiesen",
            "Free Space": "Freier Speicherplatz",
            "Back": "Zurück",
            "Add": "Hinzufügen",
            "Remove": "Entfernen",
            "Format": "Formatieren",
            "Auto": "Auto",
            "Filesystem": "Dateisystem",
            "Mountpoint": "Einhängepunkt",
            "Boot flag": "Boot-Flag",
            "Continue": "Weiter",
            "Selected": "Ausgewählt",
            "Loading...": "Wird geladen...",
            "Scanning for storage devices.": "Suche nach Speichergeräten.",
            "Waiting for Gparted": "Warte auf Gparted",
            "The disk list will be refreshed after you close the Gparted application.": "Die Datenträgerliste wird nach dem Schließen der Gparted-Anwendung aktualisiert.",
            "Error: Gparted Not Found": "Fehler: Gparted nicht gefunden",
            "Could not launch Gparted": "Gparted konnte nicht gestartet werden",
            "OK": "OK",
            "Missing Required Configuration": "Erforderliche Konfiguration fehlt",
            "No bootable partition found": "Keine bootfähige Partition gefunden",
            "No root (/) mountpoint configured": "Kein Root-Einhängepunkt (/) konfiguriert",
            "Would you like to automatically configure the selected device?": "Möchten Sie das ausgewählte Gerät automatisch konfigurieren?",
            "Auto-configure will:": "Die automatische Konfiguration wird:",
            "Remove the selected partition/disk": "Die ausgewählte Partition/Datenträger entfernen",
            "Create a 1GB FAT32 boot partition at /boot": "Eine 1GB FAT32 Boot-Partition bei /boot erstellen",
            "Create an ext4 root partition at / with remaining space": "Eine ext4 Root-Partition bei / mit dem verbleibenden Speicherplatz erstellen",
            "WARNING: All data on the selected device will be lost!": "WARNUNG: Alle Daten auf dem ausgewählten Gerät gehen verloren!",
            "Go Back": "Zurück",
            "Continue Anyway": "Trotzdem fortfahren",
            "Auto-Configure": "Automatisch konfigurieren",
            "Configuration Required": "Konfiguration erforderlich",
            "Please select a disk and configure:": "Bitte wählen Sie einen Datenträger und konfigurieren Sie:",
            "At least one bootable partition": "Mindestens eine bootfähige Partition",
            "A root (/) mountpoint": "Ein Root-Einhängepunkt (/)",
            "Auto-Configuring": "Automatische Konfiguration",
            "Setting up UEFI boot and root partitions...": "UEFI-Boot- und Root-Partitionen werden eingerichtet...",
            "Setting up Legacy boot and root partitions...": "Legacy-Boot- und Root-Partitionen werden eingerichtet...",
            "Formatting Disk": "Datenträger wird formatiert",
            "Wiping disk and creating UEFI partitions...": "Datenträger wird gelöscht und UEFI-Partitionen werden erstellt...",
            "Wiping disk and creating Legacy partitions...": "Datenträger wird gelöscht und Legacy-Partitionen werden erstellt...",
            "Success": "Erfolg",
            "UEFI disk configured successfully!": "UEFI-Datenträger erfolgreich konfiguriert!",
            "Created partitions:": "Erstellte Partitionen:",
            "1 GiB FAT32 at /boot (ESP)": "1 GiB FAT32 bei /boot (ESP)",
            "ext4 at /": "ext4 bei /",
            "fstab has been updated.": "fstab wurde aktualisiert.",
            "Legacy disk configured successfully!": "Legacy-Datenträger erfolgreich konfiguriert!",
            "ext4 at / (bootable)": "ext4 bei / (bootfähig)",
            "Note: GRUB will be installed to the MBR of": "Hinweis: GRUB wird im MBR installiert von",
            "Error": "Fehler",
            "Remove Partition": "Partition entfernen",
            "Are you sure you want to remove partition": "Sind Sie sicher, dass Sie die Partition entfernen möchten",
            "This action cannot be undone and all data will be lost!": "Diese Aktion kann nicht rückgängig gemacht werden und alle Daten gehen verloren!",
            "Cancel": "Abbrechen",
            "Format Partition": "Partition formatieren",
            "Select filesystem type for": "Dateisystemtyp auswählen für",
            "Warning: All data will be lost!": "Warnung: Alle Daten gehen verloren!",
            "ext4": "ext4",
            "Btrfs": "Btrfs",
            "NTFS": "NTFS",
            "FAT32": "FAT32",
            "exFAT": "exFAT",
            "swap": "swap",
            "Unformatted": "Nicht formatiert",
            "Format Partition": "Partition formatieren",
            "Select filesystem type for": "Dateisystemtyp auswählen für",
            "Change Filesystem": "Dateisystem ändern",
            "Change filesystem type for": "Dateisystemtyp ändern für",
            "Warning: This will reformat the partition and all data will be lost!": "Warnung: Dies wird die Partition neu formatieren und alle Daten gehen verloren!",
            "Boot Flag": "Boot-Flag",
            "Toggle boot flag for": "Boot-Flag umschalten für",
            "This will modify the partition to be visible in the boot menu.": "Dies wird die Partition so ändern, dass sie im Boot-Menü sichtbar ist.",
            "Enable Boot Flag": "Boot-Flag aktivieren",
            "Disable Boot Flag": "Boot-Flag deaktivieren",
            "No Selection": "Keine Auswahl",
            "Please select a disk first.": "Bitte wählen Sie zuerst einen Datenträger aus.",
            "Please select a partition first.": "Bitte wählen Sie zuerst eine Partition aus.",
            "Invalid Selection": "Ungültige Auswahl",
            "Cannot add partition to a partition. Please select a disk.": "Kann keine Partition zu einer Partition hinzufügen. Bitte wählen Sie einen Datenträger.",
            "Can only remove partitions. Please select a partition.": "Kann nur Partitionen entfernen. Bitte wählen Sie eine Partition.",
            "Format is only available for partitions. Use Auto for whole disks or free space.": "Formatierung ist nur für Partitionen verfügbar. Verwenden Sie Auto für ganze Datenträger oder freien Speicherplatz.",
            "Auto configuration is only available for whole disks or free space.": "Automatische Konfiguration ist nur für ganze Datenträger oder freien Speicherplatz verfügbar.",
            "Can only change filesystem of partitions. Please select a partition.": "Kann nur das Dateisystem von Partitionen ändern. Bitte wählen Sie eine Partition.",
            "Can only set mountpoint for partitions. Please select a partition.": "Kann nur Einhängepunkt für Partitionen festlegen. Bitte wählen Sie eine Partition.",
            "Can only set boot flag on partitions. Please select a partition.": "Kann Boot-Flag nur auf Partitionen setzen. Bitte wählen Sie eine Partition.",
            "Please select a disk or free space first.": "Bitte wählen Sie zuerst einen Datenträger oder freien Speicherplatz.",
            "Please select a partition or free space first.": "Bitte wählen Sie zuerst eine Partition oder freien Speicherplatz.",
            "No device selected": "Kein Gerät ausgewählt",
            "Format Entire Disk": "Gesamten Datenträger formatieren",
            "This will COMPLETELY WIPE": "Dies wird VOLLSTÄNDIG LÖSCHEN",
            "and create:": "und erstellen:",
            "1 GiB FAT32 EFI System Partition at /boot": "1 GiB FAT32 EFI-Systempartition bei /boot",
            "Remaining space as ext4 partition at /": "Verbleibender Speicherplatz als ext4-Partition bei /",
            "Single ext4 partition at / (bootable for Legacy boot)": "Einzelne ext4-Partition bei / (bootfähig für Legacy-Boot)",
            "ALL DATA WILL BE LOST! Are you sure?": "ALLE DATEN GEHEN VERLOREN! Sind Sie sicher?",
            "Note: GRUB will be installed to the MBR": "Hinweis: GRUB wird im MBR installiert",
            "Wipe Disk": "Datenträger löschen",
            "Are you sure you want to remove partition": "Sind Sie sicher, dass Sie die Partition entfernen möchten",
            "Toggle boot flag for": "Boot-Flag umschalten für",
            "?": "?",
            ":": ":",
            "The following requirements are missing:": "Die folgenden Anforderungen fehlen:",
            "Create Partition": "Partition erstellen",
            "Create partition on": "Partition erstellen auf",
            "Size:": "Größe:",
            "10 or leave empty for max": "10 oder leer lassen für Maximum",
            "MB": "MB",
            "GB": "GB",
            "TB": "TB",
            "Filesystem:": "Dateisystem:",
            "Create": "Erstellen",
            "Set Mountpoint": "Einhängepunkt festlegen",
            "Set mountpoint for": "Einhängepunkt festlegen für",
            "Or enter custom mountpoint:": "Oder benutzerdefinierten Einhängepunkt eingeben:",
            "/custom/path": "/benutzerdefiniert/pfad",
            "Set": "Festlegen",
            "/home": "/home",
            "/boot": "/boot",
            "/var": "/var",
            "/tmp": "/tmp",
            "/usr": "/usr",
            "Invalid Size": "Ungültige Größe",
            "Size must be greater than 0": "Größe muss größer als 0 sein",
            "Please enter a valid number": "Bitte geben Sie eine gültige Zahl ein",
            "Invalid Mountpoint": "Ungültiger Einhängepunkt",
            "Mountpoint must start with '/'": "Einhängepunkt muss mit '/' beginnen",
            "Creating Partition": "Partition wird erstellt",
            "Creating partition, please wait...": "Partition wird erstellt, bitte warten...",
            "Removing Partition": "Partition wird entfernt",
            "Removing partition": "Partition wird entfernt",
            "Formatting Partition": "Partition wird formatiert",
            "Formatting": "Formatierung",
            "with": "mit",
            "Setting Boot Flag": "Boot-Flag wird gesetzt",
            "Setting boot flag for": "Boot-Flag wird gesetzt für",
            "Please wait...": "Bitte warten...",
            "Partition created successfully:": "Partition erfolgreich erstellt:",
            "Partition removed successfully": "Partition erfolgreich entfernt",
            "formatted successfully with": "erfolgreich formatiert mit",
            "Mountpoint Set": "Einhängepunkt festgelegt",
            "Mountpoint for": "Einhängepunkt für",
            "set to:": "festgelegt auf:",
            "Configuration saved and /etc/fstab updated.": "Konfiguration gespeichert und /etc/fstab aktualisiert.",
            "Boot flag enabled for": "Boot-Flag aktiviert für",
            "Boot flag disabled for": "Boot-Flag deaktiviert für",
            "Create partition on": "Partition erstellen auf",
            "Set mountpoint for": "Einhängepunkt festlegen für",
            "Removing partition": "Partition wird entfernt",
            "Formatting": "Formatierung",
            "with": "mit",
            "Setting boot flag for": "Boot-Flag wird gesetzt für",
            "Selected:": "Ausgewählt:",
            "Size:": "Größe:",
            "Type:": "Typ:",
            "Mount:": "Einhängepunkt:",
            "disk": "Datenträger",
            "part": "Part",
            "loop": "Loop",
            "vfat": "vfat",
            "xfs": "xfs",
            "f2fs": "f2fs",
            "reiserfs": "reiserfs",
            "jfs": "jfs",
            "nilfs2": "nilfs2",
            # User Creation Widget
            "Create Your User Account": "Benutzerkonto erstellen",
            "Set up your account to log in to the system.": "Richten Sie Ihr Konto ein, um sich am System anzumelden.",
            "User Account": "Benutzerkonto",
            "Username": "Benutzername",
            "e.g., john": "z.B. max",
            "Full Name": "Vollständiger Name",
            "e.g., John Doe": "z.B. Max Mustermann",
            "Password": "Passwort",
            "Repeat Password": "Passwort wiederholen",
            "System Configuration": "Systemkonfiguration",
            "Computer's Name": "Computername",
            "Linexin-PC": "Linexin-PC",
            "Enable Root account?": "Root-Konto aktivieren?",
            "Root Password": "Root-Passwort",
            "Repeat Root Password": "Root-Passwort wiederholen",
            "Username is required": "Benutzername ist erforderlich",
            "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens": "Benutzername muss mit einem Buchstaben oder Unterstrich beginnen und darf nur Kleinbuchstaben, Zahlen, Unterstriche und Bindestriche enthalten",
            "Username must be 32 characters or less": "Benutzername darf maximal 32 Zeichen lang sein",
            "is a reserved system username": "ist ein reservierter Systembenutzername",
            "Computer name is required": "Computername ist erforderlich",
            "Must start and end with a letter or number, and contain only letters, numbers, and hyphens": "Muss mit einem Buchstaben oder einer Zahl beginnen und enden und darf nur Buchstaben, Zahlen und Bindestriche enthalten",
            "Computer name must be 63 characters or less": "Computername darf maximal 63 Zeichen lang sein",
            "Passwords do not match": "Passwörter stimmen nicht überein",
            "Root passwords do not match": "Root-Passwörter stimmen nicht überein",
            "Error": "Fehler",
            "Failed to generate configuration files:": "Konfigurationsdateien konnten nicht generiert werden:",
            "Try specifying a different output directory with more space.": "Versuchen Sie, ein anderes Ausgabeverzeichnis mit mehr Speicherplatz anzugeben.",
            # Password strength indicators
            "Weak": "Schwach",
            "Fair": "Ausreichend",
            "Good": "Gut",
            "Strong": "Stark",
            "at least 8 characters": "mindestens 8 Zeichen",
            "lowercase letters": "Kleinbuchstaben",
            "uppercase letters": "Großbuchstaben",
            "numbers": "Zahlen",
            "special characters": "Sonderzeichen",
            "add": "hinzufügen",
            "(add": "(hinzufügen",
            ")": ")",
            # Installation Widget
            "The installation could not be completed.": "Die Installation konnte nicht abgeschlossen werden.",
            "Please check the details for more information.": "Bitte überprüfen Sie die Details für weitere Informationen.",
            "Installation cancelled by user.": "Installation vom Benutzer abgebrochen.",
            "Error executing step": "Fehler beim Ausführen des Schritts",
            "Step failed:": "Schritt fehlgeschlagen:",
            "(exit code:": "(Exit-Code:",
            "Warning: Non-critical step failed:": "Warnung: Nicht-kritischer Schritt fehlgeschlagen:",
            "completed successfully": "erfolgreich abgeschlossen",
            "Files copied:": "Dateien kopiert:",
            "Installing System": "System wird installiert",
            "Preparing installation...": "Installation wird vorbereitet...",
            "Please wait while the system prepares for installation": "Bitte warten Sie, während das System für die Installation vorbereitet wird",
            "Step": "Schritt",
            "of": "von",
            "Elapsed time": "Verstrichene Zeit",
            "Show Details": "Details anzeigen",
            "Hide Details": "Details ausblenden",
            "Cancel Installation?": "Installation abbrechen?",
            "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.": "Sind Sie sicher, dass Sie die Installation abbrechen möchten? Dies kann Ihr System in einem unvollständigen Zustand hinterlassen.",
            "Keep Installing": "Installation fortsetzen",
            "Cancel Installation": "Installation abbrechen",
            "Cancelling installation...": "Installation wird abgebrochen...",
            "Installation Complete!": "Installation abgeschlossen!",
            "System installed successfully": "System erfolgreich installiert",
            "Your system has been installed and is ready to use.": "Ihr System wurde installiert und ist einsatzbereit.",
            "Finish": "Fertigstellen",
            "Installation Failed": "Installation fehlgeschlagen",
            "An error occurred during installation": "Bei der Installation ist ein Fehler aufgetreten",
            "Try Again": "Erneut versuchen",
            "Installation Cancelled": "Installation abgebrochen",
            "Installation was cancelled by user": "Installation wurde vom Benutzer abgebrochen",
            "The installation process was interrupted.": "Der Installationsvorgang wurde unterbrochen.",
            "Restart": "Neustart",
            "INSTALLATION COMPLETED SUCCESSFULLY!": "INSTALLATION ERFOLGREICH ABGESCHLOSSEN!",
            # Installation steps
            "Creating installation directories": "Installationsverzeichnisse werden erstellt",
            "Setting up temporary installation directories": "Temporäre Installationsverzeichnisse werden eingerichtet",
            "Mounting installation image": "Installationsabbild wird eingehängt",
            "containing the system image": "enthält das Systemabbild",
            "Mounting root partition": "Root-Partition wird eingehängt",
            "Mounting the root partition based on /etc/fstab": "Root-Partition wird basierend auf /etc/fstab eingehängt",
            "Creating boot directory": "Boot-Verzeichnis wird erstellt",
            "Creating boot mount point": "Boot-Einhängepunkt wird erstellt",
            "Mounting boot partition": "Boot-Partition wird eingehängt",
            "Mounting the boot partition based on /etc/fstab": "Boot-Partition wird basierend auf /etc/fstab eingehängt",
            "Copying system files": "Systemdateien werden kopiert",
            "Copying the system image to your disk. This may take several minutes...": "Systemabbild wird auf Ihren Datenträger kopiert. Dies kann einige Minuten dauern...",
            "Verifying file copy": "Dateikopie wird überprüft",
            "Verifying that files were copied successfully": "Es wird überprüft, dass die Dateien erfolgreich kopiert wurden",
            "Removing live ISO fstab": "Live-ISO-fstab wird entfernt",
            "Removing the live ISO filesystem configuration": "Live-ISO-Dateisystemkonfiguration wird entfernt",
            "Applying installer configuration": "Installer-Konfiguration wird angewendet",
            "Copying installer configuration files to the new system": "Installer-Konfigurationsdateien werden auf das neue System kopiert",
            "Removing wheel sudo configuration": "Wheel-sudo-Konfiguration wird entfernt",
            "Removing temporary sudo configuration": "Temporäre sudo-Konfiguration wird entfernt",
            "Changing system's language": "Systemsprache wird geändert",
            "Changing system's language to a selected one": "Systemsprache wird auf die ausgewählte geändert",
            "Setting up timezone": "Zeitzone wird eingerichtet",
            "Linking timezone to the selected one in the installer": "Zeitzone wird mit der im Installer ausgewählten verknüpft",
            "Setting up keyboard layout": "Tastaturbelegung wird eingerichtet",
            "Using proper commands in chroot environment to set up keyboard layout": "Verwendung der richtigen Befehle in der chroot-Umgebung zur Einrichtung der Tastaturbelegung",
            "Adding user": "Benutzer wird hinzugefügt",
            "Adding user, setting it's password and hostname for the PC": "Benutzer wird hinzugefügt, Passwort und Hostname für den PC werden festgelegt",
            "Cleaning out rootfs": "Rootfs wird bereinigt",
            "Cleaning out rootfs from LiveISO's config and applying post-install scripts": "Rootfs wird von LiveISO-Konfiguration bereinigt und Post-Installations-Skripte werden angewendet",
            "Installing bootloader": "Bootloader wird installiert",
            "Checking for other systems installed and installing proper bootloader": "Prüfung auf andere installierte Systeme und Installation des entsprechenden Bootloaders",
            "Unmounting filesystems": "Dateisysteme werden ausgehängt",
            "Safely unmounting all filesystems": "Alle Dateisysteme werden sicher ausgehängt",
            "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout": "GNOME-Erweiterungseinstellungen werden geändert, um das Aussehen des ausgewählten Desktop-Layouts widerzuspiegeln",
            "Setting up desktop layout": "Desktop-Layout wird eingerichtet",
            # Finish Widget
            "Installation has finished successfully!": "Installation wurde erfolgreich abgeschlossen!",
            "Everything is set up for you. Thank you for choosing Linexin.": "Alles ist für Sie eingerichtet. Vielen Dank, dass Sie sich für Linexin entschieden haben.",
            "Reboot the system to finish installation.": "Starten Sie das System neu, um die Installation abzuschließen.",
            "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.": "Alles ist für Sie eingerichtet. Vielen Dank, dass Sie sich für Linexin entschieden haben.\nStarten Sie das System neu, um die Installation abzuschließen.",
            "Reboot": "Neustart",
            "Reboot System": "System neu starten",
            "Are you sure you want to reboot now?": "Sind Sie sicher, dass Sie jetzt neu starten möchten?",
            "Reboot Failed": "Neustart fehlgeschlagen",
            "Could not reboot the system. Please reboot manually.": "System konnte nicht neu gestartet werden. Bitte starten Sie manuell neu.",
            "Installation Complete": "Installation abgeschlossen"
        }

        self.translations["ru_RU.UTF-8"] = {
            # Exact text matching (what appears in your UI)
            # Language
            "Select a Language": "Выберите язык",
            "Search for a language...": "Поиск языка...",
            "Back": "Назад",
            "Continue": "Продолжить",
            # Timezone
            "Select Your Timezone": "Выберите часовой пояс",
            "Choose a city in your region. This will be used to set the clock.": "Выберите город в вашем регионе. Это будет использоваться для установки часов.",
            "Search for your city or region...": "Поиск вашего города или региона...",
            "Advanced": "Расширенные",
            "Proceed": "Продолжить",
            "Cancel": "Отмена",
            "Next": "Далее",
            "Previous": "Назад",
            "Finish": "Завершить",
            # Keyboard
            "Select Your Keyboard Layout": "Выберите раскладку клавиатуры",
            "Test your layout here:": "Проверьте раскладку здесь:",
            "You can add more after installation.": "Вы можете добавить больше после установки.",
            # Disk Utility Widget
            "Select Installation Destination": "Выберите диск",
            "Click on a disk or partition to select it or modify it.": "Нажмите на диск или раздел, чтобы выбрать или изменить его.",
            "No Disks Found": "Диски не найдены",
            "Size": "Размер",
            "Type": "Тип",
            "Mount": "Монтирование",
            "Bootable": "Загрузочный",
            "Not configured": "Не настроено",
            "Unallocated": "Не распределено",
            "Free Space": "Свободное место",
            "Back": "Назад",
            "Add": "Добавить",
            "Remove": "Удалить",
            "Format": "Форматировать",
            "Auto": "Авто",
            "Filesystem": "Файловая система",
            "Mountpoint": "Точка монтирования",
            "Boot flag": "Флаг загрузки",
            "Continue": "Продолжить",
            "Selected": "Выбрано",
            "Loading...": "Загрузка...",
            "Scanning for storage devices.": "Поиск устройств хранения.",
            "Waiting for Gparted": "Ожидание Gparted",
            "The disk list will be refreshed after you close the Gparted application.": "Список дисков будет обновлен после закрытия приложения Gparted.",
            "Error: Gparted Not Found": "Ошибка: Gparted не найден",
            "Could not launch Gparted": "Не удалось запустить Gparted",
            "OK": "ОК",
            "Missing Required Configuration": "Отсутствует необходимая конфигурация",
            "No bootable partition found": "Загрузочный раздел не найден",
            "No root (/) mountpoint configured": "Не настроена корневая точка монтирования (/)",
            "Would you like to automatically configure the selected device?": "Хотите автоматически настроить выбранное устройство?",
            "Auto-configure will:": "Автоматическая настройка выполнит:",
            "Remove the selected partition/disk": "Удалить выбранный раздел/диск",
            "Create a 1GB FAT32 boot partition at /boot": "Создать загрузочный раздел FAT32 размером 1ГБ в /boot",
            "Create an ext4 root partition at / with remaining space": "Создать корневой раздел ext4 в / с оставшимся пространством",
            "WARNING: All data on the selected device will be lost!": "ВНИМАНИЕ: Все данные на выбранном устройстве будут потеряны!",
            "Go Back": "Вернуться",
            "Continue Anyway": "Продолжить в любом случае",
            "Auto-Configure": "Автоматическая настройка",
            "Configuration Required": "Требуется настройка",
            "Please select a disk and configure:": "Пожалуйста, выберите диск и настройте:",
            "At least one bootable partition": "Хотя бы один загрузочный раздел",
            "A root (/) mountpoint": "Корневая точка монтирования (/)",
            "Auto-Configuring": "Автоматическая настройка",
            "Setting up UEFI boot and root partitions...": "Настройка UEFI загрузочного и корневого разделов...",
            "Setting up Legacy boot and root partitions...": "Настройка Legacy загрузочного и корневого разделов...",
            "Formatting Disk": "Форматирование диска",
            "Wiping disk and creating UEFI partitions...": "Очистка диска и создание UEFI разделов...",
            "Wiping disk and creating Legacy partitions...": "Очистка диска и создание Legacy разделов...",
            "Success": "Успешно",
            "UEFI disk configured successfully!": "UEFI диск успешно настроен!",
            "Created partitions:": "Созданные разделы:",
            "1 GiB FAT32 at /boot (ESP)": "1 ГиБ FAT32 в /boot (ESP)",
            "ext4 at /": "ext4 в /",
            "fstab has been updated.": "fstab обновлен.",
            "Legacy disk configured successfully!": "Legacy диск успешно настроен!",
            "ext4 at / (bootable)": "ext4 в / (загрузочный)",
            "Note: GRUB will be installed to the MBR of": "Примечание: GRUB будет установлен в MBR",
            "Error": "Ошибка",
            "Remove Partition": "Удалить раздел",
            "Are you sure you want to remove partition": "Вы уверены, что хотите удалить раздел",
            "This action cannot be undone and all data will be lost!": "Это действие нельзя отменить, и все данные будут потеряны!",
            "Cancel": "Отмена",
            "Format Partition": "Форматировать раздел",
            "Select filesystem type for": "Выберите тип файловой системы для",
            "Warning: All data will be lost!": "Внимание: Все данные будут потеряны!",
            "ext4": "ext4",
            "Btrfs": "Btrfs",
            "NTFS": "NTFS",
            "FAT32": "FAT32",
            "exFAT": "exFAT",
            "swap": "swap",
            "Unformatted": "Не отформатирован",
            "Format Partition": "Форматировать раздел",
            "Select filesystem type for": "Выберите тип файловой системы для",
            "Change Filesystem": "Изменить файловую систему",
            "Change filesystem type for": "Изменить тип файловой системы для",
            "Warning: This will reformat the partition and all data will be lost!": "Внимание: Это переформатирует раздел, и все данные будут потеряны!",
            "Boot Flag": "Флаг загрузки",
            "Toggle boot flag for": "Переключить флаг загрузки для",
            "This will modify the partition to be visible in the boot menu.": "Это изменит раздел, чтобы он был виден в меню загрузки.",
            "Enable Boot Flag": "Включить флаг загрузки",
            "Disable Boot Flag": "Отключить флаг загрузки",
            "No Selection": "Нет выбора",
            "Please select a disk first.": "Пожалуйста, сначала выберите диск.",
            "Please select a partition first.": "Пожалуйста, сначала выберите раздел.",
            "Invalid Selection": "Неверный выбор",
            "Cannot add partition to a partition. Please select a disk.": "Нельзя добавить раздел к разделу. Пожалуйста, выберите диск.",
            "Can only remove partitions. Please select a partition.": "Можно удалять только разделы. Пожалуйста, выберите раздел.",
            "Format is only available for partitions. Use Auto for whole disks or free space.": "Форматирование доступно только для разделов. Используйте Авто для целых дисков или свободного места.",
            "Auto configuration is only available for whole disks or free space.": "Автоматическая настройка доступна только для целых дисков или свободного места.",
            "Can only change filesystem of partitions. Please select a partition.": "Можно изменить файловую систему только разделов. Пожалуйста, выберите раздел.",
            "Can only set mountpoint for partitions. Please select a partition.": "Можно установить точку монтирования только для разделов. Пожалуйста, выберите раздел.",
            "Can only set boot flag on partitions. Please select a partition.": "Можно установить флаг загрузки только на разделах. Пожалуйста, выберите раздел.",
            "Please select a disk or free space first.": "Пожалуйста, сначала выберите диск или свободное место.",
            "Please select a partition or free space first.": "Пожалуйста, сначала выберите раздел или свободное место.",
            "No device selected": "Устройство не выбрано",
            "Format Entire Disk": "Форматировать весь диск",
            "This will COMPLETELY WIPE": "Это ПОЛНОСТЬЮ ОЧИСТИТ",
            "and create:": "и создаст:",
            "1 GiB FAT32 EFI System Partition at /boot": "Системный раздел EFI FAT32 размером 1 ГиБ в /boot",
            "Remaining space as ext4 partition at /": "Оставшееся место как раздел ext4 в /",
            "Single ext4 partition at / (bootable for Legacy boot)": "Единственный раздел ext4 в / (загрузочный для Legacy)",
            "ALL DATA WILL BE LOST! Are you sure?": "ВСЕ ДАННЫЕ БУДУТ ПОТЕРЯНЫ! Вы уверены?",
            "Note: GRUB will be installed to the MBR": "Примечание: GRUB будет установлен в MBR",
            "Wipe Disk": "Очистить диск",
            "Are you sure you want to remove partition": "Вы уверены, что хотите удалить раздел",
            "Toggle boot flag for": "Переключить флаг загрузки для",
            "?": "?",
            ":": ":",
            "The following requirements are missing:": "Отсутствуют следующие требования:",
            "Create Partition": "Создать раздел",
            "Create partition on": "Создать раздел на",
            "Size:": "Размер:",
            "10 or leave empty for max": "10 или оставьте пустым для максимума",
            "MB": "МБ",
            "GB": "ГБ",
            "TB": "ТБ",
            "Filesystem:": "Файловая система:",
            "Create": "Создать",
            "Set Mountpoint": "Установить точку монтирования",
            "Set mountpoint for": "Установить точку монтирования для",
            "Or enter custom mountpoint:": "Или введите пользовательскую точку монтирования:",
            "/custom/path": "/пользовательский/путь",
            "Set": "Установить",
            "/home": "/home",
            "/boot": "/boot",
            "/var": "/var",
            "/tmp": "/tmp",
            "/usr": "/usr",
            "Invalid Size": "Неверный размер",
            "Size must be greater than 0": "Размер должен быть больше 0",
            "Please enter a valid number": "Пожалуйста, введите допустимое число",
            "Invalid Mountpoint": "Неверная точка монтирования",
            "Mountpoint must start with '/'": "Точка монтирования должна начинаться с '/'",
            "Creating Partition": "Создание раздела",
            "Creating partition, please wait...": "Создание раздела, пожалуйста, подождите...",
            "Removing Partition": "Удаление раздела",
            "Removing partition": "Удаление раздела",
            "Formatting Partition": "Форматирование раздела",
            "Formatting": "Форматирование",
            "with": "с",
            "Setting Boot Flag": "Установка флага загрузки",
            "Setting boot flag for": "Установка флага загрузки для",
            "Please wait...": "Пожалуйста, подождите...",
            "Partition created successfully:": "Раздел успешно создан:",
            "Partition removed successfully": "Раздел успешно удален",
            "formatted successfully with": "успешно отформатирован с",
            "Mountpoint Set": "Точка монтирования установлена",
            "Mountpoint for": "Точка монтирования для",
            "set to:": "установлена в:",
            "Configuration saved and /etc/fstab updated.": "Конфигурация сохранена и /etc/fstab обновлен.",
            "Boot flag enabled for": "Флаг загрузки включен для",
            "Boot flag disabled for": "Флаг загрузки отключен для",
            "Create partition on": "Создать раздел на",
            "Set mountpoint for": "Установить точку монтирования для",
            "Removing partition": "Удаление раздела",
            "Formatting": "Форматирование",
            "with": "с",
            "Setting boot flag for": "Установка флага загрузки для",
            "Selected:": "Выбрано:",
            "Size:": "Размер:",
            "Type:": "Тип:",
            "Mount:": "Монтирование:",
            "disk": "диск",
            "part": "раздел",
            "loop": "петля",
            "vfat": "vfat",
            "xfs": "xfs",
            "f2fs": "f2fs",
            "reiserfs": "reiserfs",
            "jfs": "jfs",
            "nilfs2": "nilfs2",
            # User Creation Widget
            "Create Your User Account": "Создайте учетную запись пользователя",
            "Set up your account to log in to the system.": "Настройте свою учетную запись для входа в систему.",
            "User Account": "Учетная запись пользователя",
            "Username": "Имя пользователя",
            "e.g., john": "например, ivan",
            "Full Name": "Полное имя",
            "e.g., John Doe": "например, Иван Иванов",
            "Password": "Пароль",
            "Repeat Password": "Повторите пароль",
            "System Configuration": "Конфигурация системы",
            "Computer's Name": "Имя компьютера",
            "Linexin-PC": "Linexin-PC",
            "Enable Root account?": "Включить учетную запись Root?",
            "Root Password": "Пароль Root",
            "Repeat Root Password": "Повторите пароль Root",
            "Username is required": "Требуется имя пользователя",
            "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens": "Имя пользователя должно начинаться с буквы или подчеркивания и содержать только строчные буквы, цифры, подчеркивания и дефисы",
            "Username must be 32 characters or less": "Имя пользователя должно быть не более 32 символов",
            "is a reserved system username": "является зарезервированным системным именем пользователя",
            "Computer name is required": "Требуется имя компьютера",
            "Must start and end with a letter or number, and contain only letters, numbers, and hyphens": "Должно начинаться и заканчиваться буквой или цифрой и содержать только буквы, цифры и дефисы",
            "Computer name must be 63 characters or less": "Имя компьютера должно быть не более 63 символов",
            "Passwords do not match": "Пароли не совпадают",
            "Root passwords do not match": "Пароли Root не совпадают",
            "Error": "Ошибка",
            "Failed to generate configuration files:": "Не удалось создать файлы конфигурации:",
            "Try specifying a different output directory with more space.": "Попробуйте указать другой выходной каталог с большим пространством.",
            # Password strength indicators
            "Weak": "Слабый",
            "Fair": "Средний",
            "Good": "Хороший",
            "Strong": "Сильный",
            "at least 8 characters": "минимум 8 символов",
            "lowercase letters": "строчные буквы",
            "uppercase letters": "заглавные буквы",
            "numbers": "цифры",
            "special characters": "специальные символы",
            "add": "добавить",
            "(add": "(добавить",
            ")": ")",
            # Installation Widget
            "The installation could not be completed.": "Установка не может быть завершена.",
            "Please check the details for more information.": "Пожалуйста, проверьте детали для получения дополнительной информации.",
            "Installation cancelled by user.": "Установка отменена пользователем.",
            "Error executing step": "Ошибка выполнения шага",
            "Step failed:": "Шаг не выполнен:",
            "(exit code:": "(код выхода:",
            "Warning: Non-critical step failed:": "Предупреждение: Некритический шаг не выполнен:",
            "completed successfully": "успешно завершено",
            "Files copied:": "Файлы скопированы:",
            "Installing System": "Установка системы",
            "Preparing installation...": "Подготовка к установке...",
            "Please wait while the system prepares for installation": "Пожалуйста, подождите, пока система готовится к установке",
            "Step": "Шаг",
            "of": "из",
            "Elapsed time": "Прошедшее время",
            "Show Details": "Показать детали",
            "Hide Details": "Скрыть детали",
            "Cancel Installation?": "Отменить установку?",
            "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.": "Вы уверены, что хотите отменить установку? Это может оставить вашу систему в неполном состоянии.",
            "Keep Installing": "Продолжить установку",
            "Cancel Installation": "Отменить установку",
            "Cancelling installation...": "Отмена установки...",
            "Installation Complete!": "Установка завершена!",
            "System installed successfully": "Система успешно установлена",
            "Your system has been installed and is ready to use.": "Ваша система установлена и готова к использованию.",
            "Finish": "Завершить",
            "Installation Failed": "Установка не удалась",
            "An error occurred during installation": "Произошла ошибка во время установки",
            "Try Again": "Попробовать снова",
            "Installation Cancelled": "Установка отменена",
            "Installation was cancelled by user": "Установка была отменена пользователем",
            "The installation process was interrupted.": "Процесс установки был прерван.",
            "Restart": "Перезагрузка",
            "INSTALLATION COMPLETED SUCCESSFULLY!": "УСТАНОВКА УСПЕШНО ЗАВЕРШЕНА!",
            # Installation steps
            "Creating installation directories": "Создание установочных каталогов",
            "Setting up temporary installation directories": "Настройка временных установочных каталогов",
            "Mounting installation image": "Монтирование установочного образа",
            "containing the system image": "содержащего образ системы",
            "Mounting root partition": "Монтирование корневого раздела",
            "Mounting the root partition based on /etc/fstab": "Монтирование корневого раздела на основе /etc/fstab",
            "Creating boot directory": "Создание загрузочного каталога",
            "Creating boot mount point": "Создание точки монтирования загрузки",
            "Mounting boot partition": "Монтирование загрузочного раздела",
            "Mounting the boot partition based on /etc/fstab": "Монтирование загрузочного раздела на основе /etc/fstab",
            "Copying system files": "Копирование системных файлов",
            "Copying the system image to your disk. This may take several minutes...": "Копирование образа системы на ваш диск. Это может занять несколько минут...",
            "Verifying file copy": "Проверка копирования файлов",
            "Verifying that files were copied successfully": "Проверка успешного копирования файлов",
            "Removing live ISO fstab": "Удаление fstab живого ISO",
            "Removing the live ISO filesystem configuration": "Удаление конфигурации файловой системы живого ISO",
            "Applying installer configuration": "Применение конфигурации установщика",
            "Copying installer configuration files to the new system": "Копирование файлов конфигурации установщика в новую систему",
            "Removing wheel sudo configuration": "Удаление конфигурации sudo для wheel",
            "Removing temporary sudo configuration": "Удаление временной конфигурации sudo",
            "Changing system's language": "Изменение языка системы",
            "Changing system's language to a selected one": "Изменение языка системы на выбранный",
            "Setting up timezone": "Настройка часового пояса",
            "Linking timezone to the selected one in the installer": "Привязка часового пояса к выбранному в установщике",
            "Setting up keyboard layout": "Настройка раскладки клавиатуры",
            "Using proper commands in chroot environment to set up keyboard layout": "Использование соответствующих команд в среде chroot для настройки раскладки клавиатуры",
            "Adding user": "Добавление пользователя",
            "Adding user, setting it's password and hostname for the PC": "Добавление пользователя, установка пароля и имени хоста для ПК",
            "Cleaning out rootfs": "Очистка rootfs",
            "Cleaning out rootfs from LiveISO's config and applying post-install scripts": "Очистка rootfs от конфигурации LiveISO и применение скриптов после установки",
            "Installing bootloader": "Установка загрузчика",
            "Checking for other systems installed and installing proper bootloader": "Проверка других установленных систем и установка соответствующего загрузчика",
            "Unmounting filesystems": "Размонтирование файловых систем",
            "Safely unmounting all filesystems": "Безопасное размонтирование всех файловых систем",
            "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout": "Изменение настроек расширений GNOME для отражения внешнего вида выбранной компоновки рабочего стола",
            "Setting up desktop layout": "Настройка компоновки рабочего стола",
            # Finish Widget
            "Installation has finished successfully!": "Установка успешно завершена!",
            "Everything is set up for you. Thank you for choosing Linexin.": "Все настроено для вас. Спасибо за выбор Linexin.",
            "Reboot the system to finish installation.": "Перезагрузите систему для завершения установки.",
            "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.": "Все настроено для вас. Спасибо за выбор Linexin.\nПерезагрузите систему для завершения установки.",
            "Reboot": "Перезагрузка",
            "Reboot System": "Перезагрузить систему",
            "Are you sure you want to reboot now?": "Вы уверены, что хотите перезагрузить сейчас?",
            "Reboot Failed": "Перезагрузка не удалась",
            "Could not reboot the system. Please reboot manually.": "Не удалось перезагрузить систему. Пожалуйста, перезагрузите вручную.",
            "Installation Complete": "Установка завершена"
        }

        self.translations["zh_CN.UTF-8"] = {
            # Exact text matching (what appears in your UI)
            # Language
            "Select a Language": "选择语言",
            "Search for a language...": "搜索语言...",
            "Back": "返回",
            "Continue": "继续",
            # Timezone
            "Select Your Timezone": "选择时区",
            "Choose a city in your region. This will be used to set the clock.": "选择您所在地区的城市。这将用于设置时钟。",
            "Search for your city or region...": "搜索您的城市或地区...",
            "Advanced": "高级",
            "Proceed": "继续",
            "Cancel": "取消",
            "Next": "下一步",
            "Previous": "上一步",
            "Finish": "完成",
            # Keyboard
            "Select Your Keyboard Layout": "选择键盘布局",
            "Test your layout here:": "在此测试您的布局：",
            "You can add more after installation.": "您可以在安装后添加更多。",
            # Disk Utility Widget
            "Select Installation Destination": "选择磁盘",
            "Click on a disk or partition to select it or modify it.": "点击磁盘或分区以选择或修改它。",
            "No Disks Found": "未找到磁盘",
            "Size": "大小",
            "Type": "类型",
            "Mount": "挂载",
            "Bootable": "可引导",
            "Not configured": "未配置",
            "Unallocated": "未分配",
            "Free Space": "可用空间",
            "Back": "返回",
            "Add": "添加",
            "Remove": "删除",
            "Format": "格式化",
            "Auto": "自动",
            "Filesystem": "文件系统",
            "Mountpoint": "挂载点",
            "Boot flag": "引导标志",
            "Continue": "继续",
            "Selected": "已选择",
            "Loading...": "加载中...",
            "Scanning for storage devices.": "正在扫描存储设备。",
            "Waiting for Gparted": "等待 Gparted",
            "The disk list will be refreshed after you close the Gparted application.": "关闭 Gparted 应用程序后，磁盘列表将会刷新。",
            "Error: Gparted Not Found": "错误：未找到 Gparted",
            "Could not launch Gparted": "无法启动 Gparted",
            "OK": "确定",
            "Missing Required Configuration": "缺少必需配置",
            "No bootable partition found": "未找到可引导分区",
            "No root (/) mountpoint configured": "未配置根目录 (/) 挂载点",
            "Would you like to automatically configure the selected device?": "您想要自动配置所选设备吗？",
            "Auto-configure will:": "自动配置将：",
            "Remove the selected partition/disk": "删除所选分区/磁盘",
            "Create a 1GB FAT32 boot partition at /boot": "在 /boot 创建 1GB FAT32 引导分区",
            "Create an ext4 root partition at / with remaining space": "用剩余空间在 / 创建 ext4 根分区",
            "WARNING: All data on the selected device will be lost!": "警告：所选设备上的所有数据将丢失！",
            "Go Back": "返回",
            "Continue Anyway": "仍然继续",
            "Auto-Configure": "自动配置",
            "Configuration Required": "需要配置",
            "Please select a disk and configure:": "请选择磁盘并配置：",
            "At least one bootable partition": "至少一个可引导分区",
            "A root (/) mountpoint": "一个根目录 (/) 挂载点",
            "Auto-Configuring": "正在自动配置",
            "Setting up UEFI boot and root partitions...": "正在设置 UEFI 引导和根分区...",
            "Setting up Legacy boot and root partitions...": "正在设置传统引导和根分区...",
            "Formatting Disk": "正在格式化磁盘",
            "Wiping disk and creating UEFI partitions...": "正在擦除磁盘并创建 UEFI 分区...",
            "Wiping disk and creating Legacy partitions...": "正在擦除磁盘并创建传统分区...",
            "Success": "成功",
            "UEFI disk configured successfully!": "UEFI 磁盘配置成功！",
            "Created partitions:": "已创建分区：",
            "1 GiB FAT32 at /boot (ESP)": "1 GiB FAT32 位于 /boot (ESP)",
            "ext4 at /": "ext4 位于 /",
            "fstab has been updated.": "fstab 已更新。",
            "Legacy disk configured successfully!": "传统磁盘配置成功！",
            "ext4 at / (bootable)": "ext4 位于 / (可引导)",
            "Note: GRUB will be installed to the MBR of": "注意：GRUB 将安装到 MBR",
            "Error": "错误",
            "Remove Partition": "删除分区",
            "Are you sure you want to remove partition": "您确定要删除分区",
            "This action cannot be undone and all data will be lost!": "此操作无法撤销，所有数据将丢失！",
            "Cancel": "取消",
            "Format Partition": "格式化分区",
            "Select filesystem type for": "选择文件系统类型",
            "Warning: All data will be lost!": "警告：所有数据将丢失！",
            "ext4": "ext4",
            "Btrfs": "Btrfs",
            "NTFS": "NTFS",
            "FAT32": "FAT32",
            "exFAT": "exFAT",
            "swap": "swap",
            "Unformatted": "未格式化",
            "Format Partition": "格式化分区",
            "Select filesystem type for": "选择文件系统类型",
            "Change Filesystem": "更改文件系统",
            "Change filesystem type for": "更改文件系统类型",
            "Warning: This will reformat the partition and all data will be lost!": "警告：这将重新格式化分区，所有数据将丢失！",
            "Boot Flag": "引导标志",
            "Toggle boot flag for": "切换引导标志",
            "This will modify the partition to be visible in the boot menu.": "这将修改分区使其在引导菜单中可见。",
            "Enable Boot Flag": "启用引导标志",
            "Disable Boot Flag": "禁用引导标志",
            "No Selection": "未选择",
            "Please select a disk first.": "请先选择磁盘。",
            "Please select a partition first.": "请先选择分区。",
            "Invalid Selection": "无效选择",
            "Cannot add partition to a partition. Please select a disk.": "无法向分区添加分区。请选择磁盘。",
            "Can only remove partitions. Please select a partition.": "只能删除分区。请选择分区。",
            "Format is only available for partitions. Use Auto for whole disks or free space.": "格式化仅适用于分区。对整个磁盘或可用空间请使用自动。",
            "Auto configuration is only available for whole disks or free space.": "自动配置仅适用于整个磁盘或可用空间。",
            "Can only change filesystem of partitions. Please select a partition.": "只能更改分区的文件系统。请选择分区。",
            "Can only set mountpoint for partitions. Please select a partition.": "只能为分区设置挂载点。请选择分区。",
            "Can only set boot flag on partitions. Please select a partition.": "只能在分区上设置引导标志。请选择分区。",
            "Please select a disk or free space first.": "请先选择磁盘或可用空间。",
            "Please select a partition or free space first.": "请先选择分区或可用空间。",
            "No device selected": "未选择设备",
            "Format Entire Disk": "格式化整个磁盘",
            "This will COMPLETELY WIPE": "这将完全擦除",
            "and create:": "并创建：",
            "1 GiB FAT32 EFI System Partition at /boot": "1 GiB FAT32 EFI 系统分区位于 /boot",
            "Remaining space as ext4 partition at /": "剩余空间作为 ext4 分区位于 /",
            "Single ext4 partition at / (bootable for Legacy boot)": "单个 ext4 分区位于 / (传统引导可引导)",
            "ALL DATA WILL BE LOST! Are you sure?": "所有数据将丢失！您确定吗？",
            "Note: GRUB will be installed to the MBR": "注意：GRUB 将安装到 MBR",
            "Wipe Disk": "擦除磁盘",
            "Are you sure you want to remove partition": "您确定要删除分区",
            "Toggle boot flag for": "切换引导标志",
            "?": "？",
            ":": "：",
            "The following requirements are missing:": "缺少以下要求：",
            "Create Partition": "创建分区",
            "Create partition on": "在此创建分区",
            "Size:": "大小：",
            "10 or leave empty for max": "10 或留空使用最大值",
            "MB": "MB",
            "GB": "GB",
            "TB": "TB",
            "Filesystem:": "文件系统：",
            "Create": "创建",
            "Set Mountpoint": "设置挂载点",
            "Set mountpoint for": "设置挂载点",
            "Or enter custom mountpoint:": "或输入自定义挂载点：",
            "/custom/path": "/自定义/路径",
            "Set": "设置",
            "/home": "/home",
            "/boot": "/boot",
            "/var": "/var",
            "/tmp": "/tmp",
            "/usr": "/usr",
            "Invalid Size": "无效大小",
            "Size must be greater than 0": "大小必须大于 0",
            "Please enter a valid number": "请输入有效数字",
            "Invalid Mountpoint": "无效挂载点",
            "Mountpoint must start with '/'": "挂载点必须以 '/' 开头",
            "Creating Partition": "正在创建分区",
            "Creating partition, please wait...": "正在创建分区，请稍候...",
            "Removing Partition": "正在删除分区",
            "Removing partition": "正在删除分区",
            "Formatting Partition": "正在格式化分区",
            "Formatting": "正在格式化",
            "with": "使用",
            "Setting Boot Flag": "正在设置引导标志",
            "Setting boot flag for": "正在设置引导标志",
            "Please wait...": "请稍候...",
            "Partition created successfully:": "分区创建成功：",
            "Partition removed successfully": "分区删除成功",
            "formatted successfully with": "成功格式化为",
            "Mountpoint Set": "挂载点已设置",
            "Mountpoint for": "挂载点",
            "set to:": "设置为：",
            "Configuration saved and /etc/fstab updated.": "配置已保存并更新了 /etc/fstab。",
            "Boot flag enabled for": "已启用引导标志",
            "Boot flag disabled for": "已禁用引导标志",
            "Create partition on": "在此创建分区",
            "Set mountpoint for": "设置挂载点",
            "Removing partition": "正在删除分区",
            "Formatting": "正在格式化",
            "with": "使用",
            "Setting boot flag for": "正在设置引导标志",
            "Selected:": "已选择：",
            "Size:": "大小：",
            "Type:": "类型：",
            "Mount:": "挂载：",
            "disk": "磁盘",
            "part": "分区",
            "loop": "回环",
            "vfat": "vfat",
            "xfs": "xfs",
            "f2fs": "f2fs",
            "reiserfs": "reiserfs",
            "jfs": "jfs",
            "nilfs2": "nilfs2",
            # User Creation Widget
            "Create Your User Account": "创建用户账户",
            "Set up your account to log in to the system.": "设置您的账户以登录系统。",
            "User Account": "用户账户",
            "Username": "用户名",
            "e.g., john": "例如：zhang",
            "Full Name": "全名",
            "e.g., John Doe": "例如：张三",
            "Password": "密码",
            "Repeat Password": "重复密码",
            "System Configuration": "系统配置",
            "Computer's Name": "计算机名称",
            "Linexin-PC": "Linexin-PC",
            "Enable Root account?": "启用 Root 账户？",
            "Root Password": "Root 密码",
            "Repeat Root Password": "重复 Root 密码",
            "Username is required": "用户名是必需的",
            "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens": "用户名必须以字母或下划线开头，且只能包含小写字母、数字、下划线和连字符",
            "Username must be 32 characters or less": "用户名必须不超过 32 个字符",
            "is a reserved system username": "是保留的系统用户名",
            "Computer name is required": "计算机名称是必需的",
            "Must start and end with a letter or number, and contain only letters, numbers, and hyphens": "必须以字母或数字开头和结尾，且只能包含字母、数字和连字符",
            "Computer name must be 63 characters or less": "计算机名称必须不超过 63 个字符",
            "Passwords do not match": "密码不匹配",
            "Root passwords do not match": "Root 密码不匹配",
            "Error": "错误",
            "Failed to generate configuration files:": "生成配置文件失败：",
            "Try specifying a different output directory with more space.": "请尝试指定具有更多空间的其他输出目录。",
            # Password strength indicators
            "Weak": "弱",
            "Fair": "一般",
            "Good": "良好",
            "Strong": "强",
            "at least 8 characters": "至少 8 个字符",
            "lowercase letters": "小写字母",
            "uppercase letters": "大写字母",
            "numbers": "数字",
            "special characters": "特殊字符",
            "add": "添加",
            "(add": "(添加",
            ")": ")",
            # Installation Widget
            "The installation could not be completed.": "无法完成安装。",
            "Please check the details for more information.": "请查看详细信息以了解更多。",
            "Installation cancelled by user.": "用户取消了安装。",
            "Error executing step": "执行步骤时出错",
            "Step failed:": "步骤失败：",
            "(exit code:": "(退出代码：",
            "Warning: Non-critical step failed:": "警告：非关键步骤失败：",
            "completed successfully": "成功完成",
            "Files copied:": "已复制文件：",
            "Installing System": "正在安装系统",
            "Preparing installation...": "正在准备安装...",
            "Please wait while the system prepares for installation": "请稍候，系统正在准备安装",
            "Step": "步骤",
            "of": "共",
            "Elapsed time": "已用时间",
            "Show Details": "显示详情",
            "Hide Details": "隐藏详情",
            "Cancel Installation?": "取消安装？",
            "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.": "您确定要取消安装吗？这可能会使您的系统处于不完整状态。",
            "Keep Installing": "继续安装",
            "Cancel Installation": "取消安装",
            "Cancelling installation...": "正在取消安装...",
            "Installation Complete!": "安装完成！",
            "System installed successfully": "系统安装成功",
            "Your system has been installed and is ready to use.": "您的系统已安装完成并可以使用。",
            "Finish": "完成",
            "Installation Failed": "安装失败",
            "An error occurred during installation": "安装过程中发生错误",
            "Try Again": "重试",
            "Installation Cancelled": "安装已取消",
            "Installation was cancelled by user": "安装被用户取消",
            "The installation process was interrupted.": "安装过程被中断。",
            "Restart": "重新启动",
            "INSTALLATION COMPLETED SUCCESSFULLY!": "安装成功完成！",
            # Installation steps
            "Creating installation directories": "正在创建安装目录",
            "Setting up temporary installation directories": "正在设置临时安装目录",
            "Mounting installation image": "正在挂载安装镜像",
            "containing the system image": "包含系统镜像",
            "Mounting root partition": "正在挂载根分区",
            "Mounting the root partition based on /etc/fstab": "基于 /etc/fstab 挂载根分区",
            "Creating boot directory": "正在创建引导目录",
            "Creating boot mount point": "正在创建引导挂载点",
            "Mounting boot partition": "正在挂载引导分区",
            "Mounting the boot partition based on /etc/fstab": "基于 /etc/fstab 挂载引导分区",
            "Copying system files": "正在复制系统文件",
            "Copying the system image to your disk. This may take several minutes...": "正在将系统镜像复制到您的磁盘。这可能需要几分钟...",
            "Verifying file copy": "正在验证文件复制",
            "Verifying that files were copied successfully": "正在验证文件是否成功复制",
            "Removing live ISO fstab": "正在删除 live ISO fstab",
            "Removing the live ISO filesystem configuration": "正在删除 live ISO 文件系统配置",
            "Applying installer configuration": "正在应用安装程序配置",
            "Copying installer configuration files to the new system": "正在将安装程序配置文件复制到新系统",
            "Removing wheel sudo configuration": "正在删除 wheel sudo 配置",
            "Removing temporary sudo configuration": "正在删除临时 sudo 配置",
            "Changing system's language": "正在更改系统语言",
            "Changing system's language to a selected one": "正在将系统语言更改为所选语言",
            "Setting up timezone": "正在设置时区",
            "Linking timezone to the selected one in the installer": "正在链接到安装程序中选择的时区",
            "Setting up keyboard layout": "正在设置键盘布局",
            "Using proper commands in chroot environment to set up keyboard layout": "在 chroot 环境中使用适当的命令设置键盘布局",
            "Adding user": "正在添加用户",
            "Adding user, setting it's password and hostname for the PC": "正在添加用户、设置密码和 PC 主机名",
            "Cleaning out rootfs": "正在清理 rootfs",
            "Cleaning out rootfs from LiveISO's config and applying post-install scripts": "正在从 LiveISO 配置中清理 rootfs 并应用安装后脚本",
            "Installing bootloader": "正在安装引导加载程序",
            "Checking for other systems installed and installing proper bootloader": "正在检查其他已安装的系统并安装适当的引导加载程序",
            "Unmounting filesystems": "正在卸载文件系统",
            "Safely unmounting all filesystems": "正在安全卸载所有文件系统",
            "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout": "正在更改 GNOME 扩展设置以反映所选桌面布局的外观和感觉",
            "Setting up desktop layout": "正在设置桌面布局",
            # Finish Widget
            "Installation has finished successfully!": "安装已成功完成！",
            "Everything is set up for you. Thank you for choosing Linexin.": "一切都已为您设置好。感谢您选择 Linexin。",
            "Reboot the system to finish installation.": "重新启动系统以完成安装。",
            "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.": "一切都已为您设置好。感谢您选择 Linexin。\n重新启动系统以完成安装。",
            "Reboot": "重新启动",
            "Reboot System": "重新启动系统",
            "Are you sure you want to reboot now?": "您确定要现在重新启动吗？",
            "Reboot Failed": "重新启动失败",
            "Could not reboot the system. Please reboot manually.": "无法重新启动系统。请手动重新启动。",
            "Installation Complete": "安装完成"
        }

        self.translations["hi_IN.UTF-8"] = {
            # Exact text matching (what appears in your UI)
            # Language
            "Select a Language": "भाषा चुनें",
            "Search for a language...": "भाषा खोजें...",
            "Back": "वापस",
            "Continue": "जारी रखें",
            # Timezone
            "Select Your Timezone": "अपना समय क्षेत्र चुनें",
            "Choose a city in your region. This will be used to set the clock.": "अपने क्षेत्र में एक शहर चुनें। इसका उपयोग घड़ी सेट करने के लिए किया जाएगा।",
            "Search for your city or region...": "अपना शहर या क्षेत्र खोजें...",
            "Advanced": "उन्नत",
            "Proceed": "आगे बढ़ें",
            "Cancel": "रद्द करें",
            "Next": "अगला",
            "Previous": "पिछला",
            "Finish": "समाप्त",
            # Keyboard
            "Select Your Keyboard Layout": "अपना कीबोर्ड लेआउट चुनें",
            "Test your layout here:": "यहाँ अपना लेआउट परीक्षण करें:",
            "You can add more after installation.": "आप स्थापना के बाद और जोड़ सकते हैं।",
            # Disk Utility Widget
            "Select Installation Destination": "डिस्क चुनें",
            "Click on a disk or partition to select it or modify it.": "इसे चुनने या संशोधित करने के लिए डिस्क या विभाजन पर क्लिक करें।",
            "No Disks Found": "कोई डिस्क नहीं मिली",
            "Size": "आकार",
            "Type": "प्रकार",
            "Mount": "माउंट",
            "Bootable": "बूट योग्य",
            "Not configured": "कॉन्फ़िगर नहीं किया गया",
            "Unallocated": "आवंटित नहीं",
            "Free Space": "खाली स्थान",
            "Back": "वापस",
            "Add": "जोड़ें",
            "Remove": "हटाएं",
            "Format": "फॉर्मेट",
            "Auto": "स्वचालित",
            "Filesystem": "फाइल सिस्टम",
            "Mountpoint": "माउंट पॉइंट",
            "Boot flag": "बूट फ्लैग",
            "Continue": "जारी रखें",
            "Selected": "चयनित",
            "Loading...": "लोड हो रहा है...",
            "Scanning for storage devices.": "स्टोरेज डिवाइसेस की खोज की जा रही है।",
            "Waiting for Gparted": "Gparted की प्रतीक्षा",
            "The disk list will be refreshed after you close the Gparted application.": "Gparted एप्लिकेशन बंद करने के बाद डिस्क सूची रीफ्रेश हो जाएगी।",
            "Error: Gparted Not Found": "त्रुटि: Gparted नहीं मिला",
            "Could not launch Gparted": "Gparted लॉन्च नहीं कर सका",
            "OK": "ठीक है",
            "Missing Required Configuration": "आवश्यक कॉन्फ़िगरेशन गायब",
            "No bootable partition found": "कोई बूट योग्य विभाजन नहीं मिला",
            "No root (/) mountpoint configured": "कोई रूट (/) माउंट पॉइंट कॉन्फ़िगर नहीं किया गया",
            "Would you like to automatically configure the selected device?": "क्या आप चयनित डिवाइस को स्वचालित रूप से कॉन्फ़िगर करना चाहेंगे?",
            "Auto-configure will:": "स्वचालित कॉन्फ़िगरेशन करेगा:",
            "Remove the selected partition/disk": "चयनित विभाजन/डिस्क को हटाना",
            "Create a 1GB FAT32 boot partition at /boot": "/boot पर 1GB FAT32 बूट विभाजन बनाना",
            "Create an ext4 root partition at / with remaining space": "शेष स्थान के साथ / पर ext4 रूट विभाजन बनाना",
            "WARNING: All data on the selected device will be lost!": "चेतावनी: चयनित डिवाइस पर सभी डेटा खो जाएगा!",
            "Go Back": "वापस जाएं",
            "Continue Anyway": "फिर भी जारी रखें",
            "Auto-Configure": "स्वचालित कॉन्फ़िगरेशन",
            "Configuration Required": "कॉन्फ़िगरेशन आवश्यक",
            "Please select a disk and configure:": "कृपया एक डिस्क चुनें और कॉन्फ़िगर करें:",
            "At least one bootable partition": "कम से कम एक बूट योग्य विभाजन",
            "A root (/) mountpoint": "एक रूट (/) माउंट पॉइंट",
            "Auto-Configuring": "स्वचालित कॉन्फ़िगरेशन",
            "Setting up UEFI boot and root partitions...": "UEFI बूट और रूट विभाजन सेटअप किए जा रहे हैं...",
            "Setting up Legacy boot and root partitions...": "लेगेसी बूट और रूट विभाजन सेटअप किए जा रहे हैं...",
            "Formatting Disk": "डिस्क फॉर्मेट की जा रही है",
            "Wiping disk and creating UEFI partitions...": "डिस्क साफ़ की जा रही है और UEFI विभाजन बनाए जा रहे हैं...",
            "Wiping disk and creating Legacy partitions...": "डिस्क साफ़ की जा रही है और लेगेसी विभाजन बनाए जा रहे हैं...",
            "Success": "सफलता",
            "UEFI disk configured successfully!": "UEFI डिस्क सफलतापूर्वक कॉन्फ़िगर की गई!",
            "Created partitions:": "बनाए गए विभाजन:",
            "1 GiB FAT32 at /boot (ESP)": "1 GiB FAT32 /boot पर (ESP)",
            "ext4 at /": "ext4 / पर",
            "fstab has been updated.": "fstab अपडेट किया गया है।",
            "Legacy disk configured successfully!": "लेगेसी डिस्क सफलतापूर्वक कॉन्फ़िगर की गई!",
            "ext4 at / (bootable)": "ext4 / पर (बूट योग्य)",
            "Note: GRUB will be installed to the MBR of": "नोट: GRUB को MBR में स्थापित किया जाएगा",
            "Error": "त्रुटि",
            "Remove Partition": "विभाजन हटाएं",
            "Are you sure you want to remove partition": "क्या आप वाकई विभाजन हटाना चाहते हैं",
            "This action cannot be undone and all data will be lost!": "यह क्रिया पूर्ववत नहीं की जा सकती और सभी डेटा खो जाएगा!",
            "Cancel": "रद्द करें",
            "Format Partition": "विभाजन फॉर्मेट करें",
            "Select filesystem type for": "फाइल सिस्टम प्रकार चुनें",
            "Warning: All data will be lost!": "चेतावनी: सभी डेटा खो जाएगा!",
            "ext4": "ext4",
            "Btrfs": "Btrfs",
            "NTFS": "NTFS",
            "FAT32": "FAT32",
            "exFAT": "exFAT",
            "swap": "swap",
            "Unformatted": "अनफॉर्मेटेड",
            "Format Partition": "विभाजन फॉर्मेट करें",
            "Select filesystem type for": "फाइल सिस्टम प्रकार चुनें",
            "Change Filesystem": "फाइल सिस्टम बदलें",
            "Change filesystem type for": "फाइल सिस्टम प्रकार बदलें",
            "Warning: This will reformat the partition and all data will be lost!": "चेतावनी: यह विभाजन को रीफॉर्मेट करेगा और सभी डेटा खो जाएगा!",
            "Boot Flag": "बूट फ्लैग",
            "Toggle boot flag for": "बूट फ्लैग टॉगल करें",
            "This will modify the partition to be visible in the boot menu.": "यह विभाजन को बूट मेनू में दृश्य बनाने के लिए संशोधित करेगा।",
            "Enable Boot Flag": "बूट फ्लैग सक्षम करें",
            "Disable Boot Flag": "बूट फ्लैग अक्षम करें",
            "No Selection": "कोई चयन नहीं",
            "Please select a disk first.": "कृपया पहले एक डिस्क चुनें।",
            "Please select a partition first.": "कृपया पहले एक विभाजन चुनें।",
            "Invalid Selection": "अमान्य चयन",
            "Cannot add partition to a partition. Please select a disk.": "विभाजन में विभाजन नहीं जोड़ सकते। कृपया एक डिस्क चुनें।",
            "Can only remove partitions. Please select a partition.": "केवल विभाजन हटा सकते हैं। कृपया एक विभाजन चुनें।",
            "Format is only available for partitions. Use Auto for whole disks or free space.": "फॉर्मेट केवल विभाजनों के लिए उपलब्ध है। पूर्ण डिस्क या खाली स्थान के लिए स्वचालित का उपयोग करें।",
            "Auto configuration is only available for whole disks or free space.": "स्वचालित कॉन्फ़िगरेशन केवल पूर्ण डिस्क या खाली स्थान के लिए उपलब्ध है।",
            "Can only change filesystem of partitions. Please select a partition.": "केवल विभाजनों का फाइल सिस्टम बदल सकते हैं। कृपया एक विभाजन चुनें।",
            "Can only set mountpoint for partitions. Please select a partition.": "केवल विभाजनों के लिए माउंट पॉइंट सेट कर सकते हैं। कृपया एक विभाजन चुनें।",
            "Can only set boot flag on partitions. Please select a partition.": "केवल विभाजनों पर बूट फ्लैग सेट कर सकते हैं। कृपया एक विभाजन चुनें।",
            "Please select a disk or free space first.": "कृपया पहले एक डिस्क या खाली स्थान चुनें।",
            "Please select a partition or free space first.": "कृपया पहले एक विभाजन या खाली स्थान चुनें।",
            "No device selected": "कोई डिवाइस चयनित नहीं",
            "Format Entire Disk": "संपूर्ण डिस्क फॉर्मेट करें",
            "This will COMPLETELY WIPE": "यह पूर्ण रूप से साफ करेगा",
            "and create:": "और बनाएगा:",
            "1 GiB FAT32 EFI System Partition at /boot": "1 GiB FAT32 EFI सिस्टम विभाजन /boot पर",
            "Remaining space as ext4 partition at /": "शेष स्थान ext4 विभाजन के रूप में / पर",
            "Single ext4 partition at / (bootable for Legacy boot)": "एकल ext4 विभाजन / पर (लेगेसी बूट के लिए बूट योग्य)",
            "ALL DATA WILL BE LOST! Are you sure?": "सभी डेटा खो जाएगा! क्या आप निश्चित हैं?",
            "Note: GRUB will be installed to the MBR": "नोट: GRUB को MBR में स्थापित किया जाएगा",
            "Wipe Disk": "डिस्क साफ करें",
            "Are you sure you want to remove partition": "क्या आप वाकई विभाजन हटाना चाहते हैं",
            "Toggle boot flag for": "बूट फ्लैग टॉगल करें",
            "?": "?",
            ":": ":",
            "The following requirements are missing:": "निम्नलिखित आवश्यकताएं गायब हैं:",
            "Create Partition": "विभाजन बनाएं",
            "Create partition on": "विभाजन बनाएं",
            "Size:": "आकार:",
            "10 or leave empty for max": "10 या अधिकतम के लिए खाली छोड़ें",
            "MB": "MB",
            "GB": "GB",
            "TB": "TB",
            "Filesystem:": "फाइल सिस्टम:",
            "Create": "बनाएं",
            "Set Mountpoint": "माउंट पॉइंट सेट करें",
            "Set mountpoint for": "माउंट पॉइंट सेट करें",
            "Or enter custom mountpoint:": "या कस्टम माउंट पॉइंट दर्ज करें:",
            "/custom/path": "/कस्टम/पथ",
            "Set": "सेट करें",
            "/home": "/home",
            "/boot": "/boot",
            "/var": "/var",
            "/tmp": "/tmp",
            "/usr": "/usr",
            "Invalid Size": "अमान्य आकार",
            "Size must be greater than 0": "आकार 0 से अधिक होना चाहिए",
            "Please enter a valid number": "कृपया एक मान्य संख्या दर्ज करें",
            "Invalid Mountpoint": "अमान्य माउंट पॉइंट",
            "Mountpoint must start with '/'": "माउंट पॉइंट '/' से शुरू होना चाहिए",
            "Creating Partition": "विभाजन बनाया जा रहा है",
            "Creating partition, please wait...": "विभाजन बनाया जा रहा है, कृपया प्रतीक्षा करें...",
            "Removing Partition": "विभाजन हटाया जा रहा है",
            "Removing partition": "विभाजन हटाया जा रहा है",
            "Formatting Partition": "विभाजन फॉर्मेट किया जा रहा है",
            "Formatting": "फॉर्मेट किया जा रहा है",
            "with": "के साथ",
            "Setting Boot Flag": "बूट फ्लैग सेट किया जा रहा है",
            "Setting boot flag for": "बूट फ्लैग सेट किया जा रहा है",
            "Please wait...": "कृपया प्रतीक्षा करें...",
            "Partition created successfully:": "विभाजन सफलतापूर्वक बनाया गया:",
            "Partition removed successfully": "विभाजन सफलतापूर्वक हटाया गया",
            "formatted successfully with": "सफलतापूर्वक फॉर्मेट किया गया",
            "Mountpoint Set": "माउंट पॉइंट सेट",
            "Mountpoint for": "माउंट पॉइंट",
            "set to:": "सेट किया गया:",
            "Configuration saved and /etc/fstab updated.": "कॉन्फ़िगरेशन सहेजा गया और /etc/fstab अपडेट किया गया।",
            "Boot flag enabled for": "बूट फ्लैग सक्षम किया गया",
            "Boot flag disabled for": "बूट फ्लैग अक्षम किया गया",
            "Create partition on": "विभाजन बनाएं",
            "Set mountpoint for": "माउंट पॉइंट सेट करें",
            "Removing partition": "विभाजन हटाया जा रहा है",
            "Formatting": "फॉर्मेट किया जा रहा है",
            "with": "के साथ",
            "Setting boot flag for": "बूट फ्लैग सेट किया जा रहा है",
            "Selected:": "चयनित:",
            "Size:": "आकार:",
            "Type:": "प्रकार:",
            "Mount:": "माउंट:",
            "disk": "डिस्क",
            "part": "भाग",
            "loop": "लूप",
            "vfat": "vfat",
            "xfs": "xfs",
            "f2fs": "f2fs",
            "reiserfs": "reiserfs",
            "jfs": "jfs",
            "nilfs2": "nilfs2",
            # User Creation Widget
            "Create Your User Account": "अपना उपयोगकर्ता खाता बनाएं",
            "Set up your account to log in to the system.": "सिस्टम में लॉग इन करने के लिए अपना खाता सेटअप करें।",
            "User Account": "उपयोगकर्ता खाता",
            "Username": "उपयोगकर्ता नाम",
            "e.g., john": "उदा., राज",
            "Full Name": "पूरा नाम",
            "e.g., John Doe": "उदा., राज कुमार",
            "Password": "पासवर्ड",
            "Repeat Password": "पासवर्ड दोहराएं",
            "System Configuration": "सिस्टम कॉन्फ़िगरेशन",
            "Computer's Name": "कंप्यूटर का नाम",
            "Linexin-PC": "Linexin-PC",
            "Enable Root account?": "Root खाता सक्षम करें?",
            "Root Password": "Root पासवर्ड",
            "Repeat Root Password": "Root पासवर्ड दोहराएं",
            "Username is required": "उपयोगकर्ता नाम आवश्यक है",
            "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens": "उपयोगकर्ता नाम अक्षर या अंडरस्कोर से शुरू होना चाहिए और केवल छोटे अक्षर, संख्याएं, अंडरस्कोर और हाइफन होने चाहिए",
            "Username must be 32 characters or less": "उपयोगकर्ता नाम 32 अक्षर या कम होना चाहिए",
            "is a reserved system username": "एक आरक्षित सिस्टम उपयोगकर्ता नाम है",
            "Computer name is required": "कंप्यूटर नाम आवश्यक है",
            "Must start and end with a letter or number, and contain only letters, numbers, and hyphens": "अक्षर या संख्या से शुरू और समाप्त होना चाहिए और केवल अक्षर, संख्याएं और हाइफन होने चाहिए",
            "Computer name must be 63 characters or less": "कंप्यूटर नाम 63 अक्षर या कम होना चाहिए",
            "Passwords do not match": "पासवर्ड मेल नहीं खाते",
            "Root passwords do not match": "Root पासवर्ड मेल नहीं खाते",
            "Error": "त्रुटि",
            "Failed to generate configuration files:": "कॉन्फ़िगरेशन फाइलें जेनरेट करने में विफल:",
            "Try specifying a different output directory with more space.": "अधिक स्थान के साथ एक अलग आउटपुट डायरेक्टरी निर्दिष्ट करने का प्रयास करें।",
            # Password strength indicators
            "Weak": "कमजोर",
            "Fair": "ठीक",
            "Good": "अच्छा",
            "Strong": "मजबूत",
            "at least 8 characters": "कम से कम 8 अक्षर",
            "lowercase letters": "छोटे अक्षर",
            "uppercase letters": "बड़े अक्षर",
            "numbers": "संख्याएं",
            "special characters": "विशेष वर्ण",
            "add": "जोड़ें",
            "(add": "(जोड़ें",
            ")": ")",
            # Installation Widget
            "The installation could not be completed.": "स्थापना पूर्ण नहीं की जा सकी।",
            "Please check the details for more information.": "अधिक जानकारी के लिए कृपया विवरण देखें।",
            "Installation cancelled by user.": "उपयोगकर्ता द्वारा स्थापना रद्द की गई।",
            "Error executing step": "चरण निष्पादित करने में त्रुटि",
            "Step failed:": "चरण विफल:",
            "(exit code:": "(निकास कोड:",
            "Warning: Non-critical step failed:": "चेतावनी: गैर-महत्वपूर्ण चरण विफल:",
            "completed successfully": "सफलतापूर्वक पूर्ण",
            "Files copied:": "फाइलें कॉपी की गईं:",
            "Installing System": "सिस्टम स्थापित किया जा रहा है",
            "Preparing installation...": "स्थापना की तैयारी...",
            "Please wait while the system prepares for installation": "कृपया प्रतीक्षा करें जब तक सिस्टम स्थापना के लिए तैयार हो रहा है",
            "Step": "चरण",
            "of": "का",
            "Elapsed time": "बीता समय",
            "Show Details": "विवरण दिखाएं",
            "Hide Details": "विवरण छुपाएं",
            "Cancel Installation?": "स्थापना रद्द करें?",
            "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.": "क्या आप वाकई स्थापना रद्द करना चाहते हैं? यह आपके सिस्टम को अपूर्ण स्थिति में छोड़ सकता है।",
            "Keep Installing": "स्थापना जारी रखें",
            "Cancel Installation": "स्थापना रद्द करें",
            "Cancelling installation...": "स्थापना रद्द की जा रही है...",
            "Installation Complete!": "स्थापना पूर्ण!",
            "System installed successfully": "सिस्टम सफलतापूर्वक स्थापित",
            "Your system has been installed and is ready to use.": "आपका सिस्टम स्थापित हो गया है और उपयोग के लिए तैयार है।",
            "Finish": "समाप्त",
            "Installation Failed": "स्थापना विफल",
            "An error occurred during installation": "स्थापना के दौरान एक त्रुटि हुई",
            "Try Again": "फिर से प्रयास करें",
            "Installation Cancelled": "स्थापना रद्द",
            "Installation was cancelled by user": "स्थापना उपयोगकर्ता द्वारा रद्द की गई",
            "The installation process was interrupted.": "स्थापना प्रक्रिया बाधित हुई।",
            "Restart": "रीस्टार्ट",
            "INSTALLATION COMPLETED SUCCESSFULLY!": "स्थापना सफलतापूर्वक पूर्ण!",
            # Installation steps
            "Creating installation directories": "स्थापना निर्देशिकाएं बनाई जा रही हैं",
            "Setting up temporary installation directories": "अस्थायी स्थापना निर्देशिकाएं सेटअप की जा रही हैं",
            "Mounting installation image": "स्थापना इमेज माउंट की जा रही है",
            "containing the system image": "सिस्टम इमेज युक्त",
            "Mounting root partition": "रूट विभाजन माउंट किया जा रहा है",
            "Mounting the root partition based on /etc/fstab": "/etc/fstab के आधार पर रूट विभाजन माउंट किया जा रहा है",
            "Creating boot directory": "बूट निर्देशिका बनाई जा रही है",
            "Creating boot mount point": "बूट माउंट पॉइंट बनाया जा रहा है",
            "Mounting boot partition": "बूट विभाजन माउंट किया जा रहा है",
            "Mounting the boot partition based on /etc/fstab": "/etc/fstab के आधार पर बूट विभाजन माउंट किया जा रहा है",
            "Copying system files": "सिस्टम फाइलें कॉपी की जा रही हैं",
            "Copying the system image to your disk. This may take several minutes...": "सिस्टम इमेज आपकी डिस्क पर कॉपी की जा रही है। इसमें कई मिनट लग सकते हैं...",
            "Verifying file copy": "फाइल कॉपी सत्यापित की जा रही है",
            "Verifying that files were copied successfully": "सत्यापित किया जा रहा है कि फाइलें सफलतापूर्वक कॉपी हुईं",
            "Removing live ISO fstab": "लाइव ISO fstab हटाया जा रहा है",
            "Removing the live ISO filesystem configuration": "लाइव ISO फाइल सिस्टम कॉन्फ़िगरेशन हटाया जा रहा है",
            "Applying installer configuration": "इंस्टॉलर कॉन्फ़िगरेशन लागू किया जा रहा है",
            "Copying installer configuration files to the new system": "इंस्टॉलर कॉन्फ़िगरेशन फाइलें नए सिस्टम में कॉपी की जा रही हैं",
            "Removing wheel sudo configuration": "wheel sudo कॉन्फ़िगरेशन हटाया जा रहा है",
            "Removing temporary sudo configuration": "अस्थायी sudo कॉन्फ़िगरेशन हटाया जा रहा है",
            "Changing system's language": "सिस्टम की भाषा बदली जा रही है",
            "Changing system's language to a selected one": "सिस्टम की भाषा चयनित भाषा में बदली जा रही है",
            "Setting up timezone": "समय क्षेत्र सेटअप किया जा रहा है",
            "Linking timezone to the selected one in the installer": "इंस्टॉलर में चयनित समय क्षेत्र से लिंक किया जा रहा है",
            "Setting up keyboard layout": "कीबोर्ड लेआउट सेटअप किया जा रहा है",
            "Using proper commands in chroot environment to set up keyboard layout": "कीबोर्ड लेआउट सेटअप करने के लिए chroot वातावरण में उचित कमांड का उपयोग",
            "Adding user": "उपयोगकर्ता जोड़ा जा रहा है",
            "Adding user, setting it's password and hostname for the PC": "उपयोगकर्ता जोड़ा जा रहा है, पासवर्ड और PC के लिए होस्टनाम सेट किया जा रहा है",
            "Cleaning out rootfs": "rootfs साफ किया जा रहा है",
            "Cleaning out rootfs from LiveISO's config and applying post-install scripts": "LiveISO के कॉन्फ़िग से rootfs साफ किया जा रहा है और पोस्ट-इंस्टॉल स्क्रिप्ट लागू की जा रही हैं",
            "Installing bootloader": "बूटलोडर स्थापित किया जा रहा है",
            "Checking for other systems installed and installing proper bootloader": "अन्य स्थापित सिस्टम की जांच और उचित बूटलोडर स्थापित किया जा रहा है",
            "Unmounting filesystems": "फाइल सिस्टम अनमाउंट किए जा रहे हैं",
            "Safely unmounting all filesystems": "सभी फाइल सिस्टम सुरक्षित रूप से अनमाउंट किए जा रहे हैं",
            "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout": "चयनित डेस्कटॉप लेआउट के लुक और फील को प्रतिबिंबित करने के लिए GNOME एक्सटेंशन सेटिंग्स बदली जा रही हैं",
            "Setting up desktop layout": "डेस्कटॉप लेआउट सेटअप किया जा रहा है",
            # Finish Widget
            "Installation has finished successfully!": "स्थापना सफलतापूर्वक समाप्त हुई!",
            "Everything is set up for you. Thank you for choosing Linexin.": "आपके लिए सब कुछ सेटअप है। Linexin चुनने के लिए धन्यवाद।",
            "Reboot the system to finish installation.": "स्थापना समाप्त करने के लिए सिस्टम रीबूट करें।",
            "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.": "आपके लिए सब कुछ सेटअप है। Linexin चुनने के लिए धन्यवाद।\nस्थापना समाप्त करने के लिए सिस्टम रीबूट करें।",
            "Reboot": "रीबूट",
            "Reboot System": "सिस्टम रीबूट करें",
            "Are you sure you want to reboot now?": "क्या आप अभी रीबूट करना चाहते हैं?",
            "Reboot Failed": "रीबूट विफल",
            "Could not reboot the system. Please reboot manually.": "सिस्टम रीबूट नहीं कर सका। कृपया मैन्युअल रूप से रीबूट करें।",
            "Installation Complete": "स्थापना पूर्ण"
        }

        self.translations["es_ES.UTF-8"] = {
            # Exact text matching (what appears in your UI)
            # Language
            "Select a Language": "Seleccionar un idioma",
            "Search for a language...": "Buscar un idioma...",
            "Back": "Atrás",
            "Continue": "Continuar",
            # Timezone
            "Select Your Timezone": "Seleccione su zona horaria",
            "Choose a city in your region. This will be used to set the clock.": "Elija una ciudad en su región. Esto se usará para configurar el reloj.",
            "Search for your city or region...": "Busque su ciudad o región...",
            "Advanced": "Avanzado",
            "Proceed": "Proceder",
            "Cancel": "Cancelar",
            "Next": "Siguiente",
            "Previous": "Anterior",
            "Finish": "Finalizar",
            # Keyboard
            "Select Your Keyboard Layout": "Seleccione la distribución del teclado",
            "Test your layout here:": "Pruebe su distribución aquí:",
            "You can add more after installation.": "Puede añadir más después de la instalación.",
            # Disk Utility Widget
            "Select Installation Destination": "Seleccionar un disco",
            "Click on a disk or partition to select it or modify it.": "Haga clic en un disco o partición para seleccionarlo o modificarlo.",
            "No Disks Found": "No se encontraron discos",
            "Size": "Tamaño",
            "Type": "Tipo",
            "Mount": "Montaje",
            "Bootable": "Arrancable",
            "Not configured": "No configurado",
            "Unallocated": "Sin asignar",
            "Free Space": "Espacio libre",
            "Back": "Atrás",
            "Add": "Añadir",
            "Remove": "Eliminar",
            "Format": "Formatear",
            "Auto": "Auto",
            "Filesystem": "Sistema de archivos",
            "Mountpoint": "Punto de montaje",
            "Boot flag": "Bandera de arranque",
            "Continue": "Continuar",
            "Selected": "Seleccionado",
            "Loading...": "Cargando...",
            "Scanning for storage devices.": "Buscando dispositivos de almacenamiento.",
            "Waiting for Gparted": "Esperando a Gparted",
            "The disk list will be refreshed after you close the Gparted application.": "La lista de discos se actualizará después de cerrar la aplicación Gparted.",
            "Error: Gparted Not Found": "Error: Gparted no encontrado",
            "Could not launch Gparted": "No se pudo iniciar Gparted",
            "OK": "OK",
            "Missing Required Configuration": "Falta la configuración requerida",
            "No bootable partition found": "No se encontró partición arrancable",
            "No root (/) mountpoint configured": "No se configuró punto de montaje raíz (/)",
            "Would you like to automatically configure the selected device?": "¿Desea configurar automáticamente el dispositivo seleccionado?",
            "Auto-configure will:": "La configuración automática:",
            "Remove the selected partition/disk": "Eliminará la partición/disco seleccionado",
            "Create a 1GB FAT32 boot partition at /boot": "Creará una partición de arranque FAT32 de 1GB en /boot",
            "Create an ext4 root partition at / with remaining space": "Creará una partición raíz ext4 en / con el espacio restante",
            "WARNING: All data on the selected device will be lost!": "ADVERTENCIA: ¡Se perderán todos los datos del dispositivo seleccionado!",
            "Go Back": "Volver",
            "Continue Anyway": "Continuar de todos modos",
            "Auto-Configure": "Configuración automática",
            "Configuration Required": "Configuración requerida",
            "Please select a disk and configure:": "Por favor seleccione un disco y configure:",
            "At least one bootable partition": "Al menos una partición arrancable",
            "A root (/) mountpoint": "Un punto de montaje raíz (/)",
            "Auto-Configuring": "Configurando automáticamente",
            "Setting up UEFI boot and root partitions...": "Configurando particiones de arranque UEFI y raíz...",
            "Setting up Legacy boot and root partitions...": "Configurando particiones de arranque Legacy y raíz...",
            "Formatting Disk": "Formateando disco",
            "Wiping disk and creating UEFI partitions...": "Borrando disco y creando particiones UEFI...",
            "Wiping disk and creating Legacy partitions...": "Borrando disco y creando particiones Legacy...",
            "Success": "Éxito",
            "UEFI disk configured successfully!": "¡Disco UEFI configurado con éxito!",
            "Created partitions:": "Particiones creadas:",
            "1 GiB FAT32 at /boot (ESP)": "1 GiB FAT32 en /boot (ESP)",
            "ext4 at /": "ext4 en /",
            "fstab has been updated.": "fstab ha sido actualizado.",
            "Legacy disk configured successfully!": "¡Disco Legacy configurado con éxito!",
            "ext4 at / (bootable)": "ext4 en / (arrancable)",
            "Note: GRUB will be installed to the MBR of": "Nota: GRUB se instalará en el MBR de",
            "Error": "Error",
            "Remove Partition": "Eliminar partición",
            "Are you sure you want to remove partition": "¿Está seguro de que desea eliminar la partición",
            "This action cannot be undone and all data will be lost!": "¡Esta acción no se puede deshacer y se perderán todos los datos!",
            "Cancel": "Cancelar",
            "Format Partition": "Formatear partición",
            "Select filesystem type for": "Seleccione el tipo de sistema de archivos para",
            "Warning: All data will be lost!": "Advertencia: ¡Se perderán todos los datos!",
            "ext4": "ext4",
            "Btrfs": "Btrfs",
            "NTFS": "NTFS",
            "FAT32": "FAT32",
            "exFAT": "exFAT",
            "swap": "swap",
            "Unformatted": "Sin formato",
            "Format Partition": "Formatear partición",
            "Select filesystem type for": "Seleccione el tipo de sistema de archivos para",
            "Change Filesystem": "Cambiar sistema de archivos",
            "Change filesystem type for": "Cambiar tipo de sistema de archivos para",
            "Warning: This will reformat the partition and all data will be lost!": "Advertencia: ¡Esto reformateará la partición y se perderán todos los datos!",
            "Boot Flag": "Bandera de arranque",
            "Toggle boot flag for": "Alternar bandera de arranque para",
            "This will modify the partition to be visible in the boot menu.": "Esto modificará la partición para que sea visible en el menú de arranque.",
            "Enable Boot Flag": "Activar bandera de arranque",
            "Disable Boot Flag": "Desactivar bandera de arranque",
            "No Selection": "Sin selección",
            "Please select a disk first.": "Por favor seleccione un disco primero.",
            "Please select a partition first.": "Por favor seleccione una partición primero.",
            "Invalid Selection": "Selección inválida",
            "Cannot add partition to a partition. Please select a disk.": "No se puede añadir una partición a una partición. Por favor seleccione un disco.",
            "Can only remove partitions. Please select a partition.": "Solo se pueden eliminar particiones. Por favor seleccione una partición.",
            "Format is only available for partitions. Use Auto for whole disks or free space.": "El formateo solo está disponible para particiones. Use Auto para discos completos o espacio libre.",
            "Auto configuration is only available for whole disks or free space.": "La configuración automática solo está disponible para discos completos o espacio libre.",
            "Can only change filesystem of partitions. Please select a partition.": "Solo se puede cambiar el sistema de archivos de particiones. Por favor seleccione una partición.",
            "Can only set mountpoint for partitions. Please select a partition.": "Solo se puede establecer punto de montaje para particiones. Por favor seleccione una partición.",
            "Can only set boot flag on partitions. Please select a partition.": "Solo se puede establecer bandera de arranque en particiones. Por favor seleccione una partición.",
            "Please select a disk or free space first.": "Por favor seleccione un disco o espacio libre primero.",
            "Please select a partition or free space first.": "Por favor seleccione una partición o espacio libre primero.",
            "No device selected": "Ningún dispositivo seleccionado",
            "Format Entire Disk": "Formatear disco completo",
            "This will COMPLETELY WIPE": "Esto BORRARÁ COMPLETAMENTE",
            "and create:": "y creará:",
            "1 GiB FAT32 EFI System Partition at /boot": "Partición del sistema EFI FAT32 de 1 GiB en /boot",
            "Remaining space as ext4 partition at /": "Espacio restante como partición ext4 en /",
            "Single ext4 partition at / (bootable for Legacy boot)": "Partición única ext4 en / (arrancable para arranque Legacy)",
            "ALL DATA WILL BE LOST! Are you sure?": "¡SE PERDERÁN TODOS LOS DATOS! ¿Está seguro?",
            "Note: GRUB will be installed to the MBR": "Nota: GRUB se instalará en el MBR",
            "Wipe Disk": "Borrar disco",
            "Are you sure you want to remove partition": "¿Está seguro de que desea eliminar la partición",
            "Toggle boot flag for": "Alternar bandera de arranque para",
            "?": "?",
            ":": ":",
            "The following requirements are missing:": "Faltan los siguientes requisitos:",
            "Create Partition": "Crear partición",
            "Create partition on": "Crear partición en",
            "Size:": "Tamaño:",
            "10 or leave empty for max": "10 o dejar vacío para el máximo",
            "MB": "MB",
            "GB": "GB",
            "TB": "TB",
            "Filesystem:": "Sistema de archivos:",
            "Create": "Crear",
            "Set Mountpoint": "Establecer punto de montaje",
            "Set mountpoint for": "Establecer punto de montaje para",
            "Or enter custom mountpoint:": "O ingrese un punto de montaje personalizado:",
            "/custom/path": "/ruta/personalizada",
            "Set": "Establecer",
            "/home": "/home",
            "/boot": "/boot",
            "/var": "/var",
            "/tmp": "/tmp",
            "/usr": "/usr",
            "Invalid Size": "Tamaño inválido",
            "Size must be greater than 0": "El tamaño debe ser mayor que 0",
            "Please enter a valid number": "Por favor ingrese un número válido",
            "Invalid Mountpoint": "Punto de montaje inválido",
            "Mountpoint must start with '/'": "El punto de montaje debe comenzar con '/'",
            "Creating Partition": "Creando partición",
            "Creating partition, please wait...": "Creando partición, por favor espere...",
            "Removing Partition": "Eliminando partición",
            "Removing partition": "Eliminando partición",
            "Formatting Partition": "Formateando partición",
            "Formatting": "Formateando",
            "with": "con",
            "Setting Boot Flag": "Estableciendo bandera de arranque",
            "Setting boot flag for": "Estableciendo bandera de arranque para",
            "Please wait...": "Por favor espere...",
            "Partition created successfully:": "Partición creada con éxito:",
            "Partition removed successfully": "Partición eliminada con éxito",
            "formatted successfully with": "formateado con éxito con",
            "Mountpoint Set": "Punto de montaje establecido",
            "Mountpoint for": "Punto de montaje para",
            "set to:": "establecido en:",
            "Configuration saved and /etc/fstab updated.": "Configuración guardada y /etc/fstab actualizado.",
            "Boot flag enabled for": "Bandera de arranque activada para",
            "Boot flag disabled for": "Bandera de arranque desactivada para",
            "Create partition on": "Crear partición en",
            "Set mountpoint for": "Establecer punto de montaje para",
            "Removing partition": "Eliminando partición",
            "Formatting": "Formateando",
            "with": "con",
            "Setting boot flag for": "Estableciendo bandera de arranque para",
            "Selected:": "Seleccionado:",
            "Size:": "Tamaño:",
            "Type:": "Tipo:",
            "Mount:": "Montaje:",
            "disk": "disco",
            "part": "part",
            "loop": "bucle",
            "vfat": "vfat",
            "xfs": "xfs",
            "f2fs": "f2fs",
            "reiserfs": "reiserfs",
            "jfs": "jfs",
            "nilfs2": "nilfs2",
            # User Creation Widget
            "Create Your User Account": "Crear su cuenta de usuario",
            "Set up your account to log in to the system.": "Configure su cuenta para iniciar sesión en el sistema.",
            "User Account": "Cuenta de usuario",
            "Username": "Nombre de usuario",
            "e.g., john": "ej., juan",
            "Full Name": "Nombre completo",
            "e.g., John Doe": "ej., Juan Pérez",
            "Password": "Contraseña",
            "Repeat Password": "Repetir contraseña",
            "System Configuration": "Configuración del sistema",
            "Computer's Name": "Nombre del equipo",
            "Linexin-PC": "Linexin-PC",
            "Enable Root account?": "¿Habilitar cuenta Root?",
            "Root Password": "Contraseña Root",
            "Repeat Root Password": "Repetir contraseña Root",
            "Username is required": "El nombre de usuario es requerido",
            "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens": "El nombre de usuario debe comenzar con una letra o guión bajo, y contener solo letras minúsculas, números, guiones bajos y guiones",
            "Username must be 32 characters or less": "El nombre de usuario debe tener 32 caracteres o menos",
            "is a reserved system username": "es un nombre de usuario del sistema reservado",
            "Computer name is required": "El nombre del equipo es requerido",
            "Must start and end with a letter or number, and contain only letters, numbers, and hyphens": "Debe comenzar y terminar con una letra o número, y contener solo letras, números y guiones",
            "Computer name must be 63 characters or less": "El nombre del equipo debe tener 63 caracteres o menos",
            "Passwords do not match": "Las contraseñas no coinciden",
            "Root passwords do not match": "Las contraseñas Root no coinciden",
            "Error": "Error",
            "Failed to generate configuration files:": "Error al generar archivos de configuración:",
            "Try specifying a different output directory with more space.": "Intente especificar un directorio de salida diferente con más espacio.",
            # Password strength indicators
            "Weak": "Débil",
            "Fair": "Regular",
            "Good": "Buena",
            "Strong": "Fuerte",
            "at least 8 characters": "al menos 8 caracteres",
            "lowercase letters": "letras minúsculas",
            "uppercase letters": "letras mayúsculas",
            "numbers": "números",
            "special characters": "caracteres especiales",
            "add": "añadir",
            "(add": "(añadir",
            ")": ")",
            # Installation Widget
            "The installation could not be completed.": "La instalación no pudo completarse.",
            "Please check the details for more information.": "Por favor revise los detalles para más información.",
            "Installation cancelled by user.": "Instalación cancelada por el usuario.",
            "Error executing step": "Error al ejecutar el paso",
            "Step failed:": "Paso fallido:",
            "(exit code:": "(código de salida:",
            "Warning: Non-critical step failed:": "Advertencia: Paso no crítico fallido:",
            "completed successfully": "completado con éxito",
            "Files copied:": "Archivos copiados:",
            "Installing System": "Instalando sistema",
            "Preparing installation...": "Preparando instalación...",
            "Please wait while the system prepares for installation": "Por favor espere mientras el sistema se prepara para la instalación",
            "Step": "Paso",
            "of": "de",
            "Elapsed time": "Tiempo transcurrido",
            "Show Details": "Mostrar detalles",
            "Hide Details": "Ocultar detalles",
            "Cancel Installation?": "¿Cancelar instalación?",
            "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.": "¿Está seguro de que desea cancelar la instalación? Esto puede dejar su sistema en un estado incompleto.",
            "Keep Installing": "Continuar instalando",
            "Cancel Installation": "Cancelar instalación",
            "Cancelling installation...": "Cancelando instalación...",
            "Installation Complete!": "¡Instalación completa!",
            "System installed successfully": "Sistema instalado con éxito",
            "Your system has been installed and is ready to use.": "Su sistema ha sido instalado y está listo para usar.",
            "Finish": "Finalizar",
            "Installation Failed": "Instalación fallida",
            "An error occurred during installation": "Ocurrió un error durante la instalación",
            "Try Again": "Intentar de nuevo",
            "Installation Cancelled": "Instalación cancelada",
            "Installation was cancelled by user": "La instalación fue cancelada por el usuario",
            "The installation process was interrupted.": "El proceso de instalación fue interrumpido.",
            "Restart": "Reiniciar",
            "INSTALLATION COMPLETED SUCCESSFULLY!": "¡INSTALACIÓN COMPLETADA CON ÉXITO!",
            # Installation steps
            "Creating installation directories": "Creando directorios de instalación",
            "Setting up temporary installation directories": "Configurando directorios temporales de instalación",
            "Mounting installation image": "Montando imagen de instalación",
            "containing the system image": "que contiene la imagen del sistema",
            "Mounting root partition": "Montando partición raíz",
            "Mounting the root partition based on /etc/fstab": "Montando la partición raíz basándose en /etc/fstab",
            "Creating boot directory": "Creando directorio de arranque",
            "Creating boot mount point": "Creando punto de montaje de arranque",
            "Mounting boot partition": "Montando partición de arranque",
            "Mounting the boot partition based on /etc/fstab": "Montando la partición de arranque basándose en /etc/fstab",
            "Copying system files": "Copiando archivos del sistema",
            "Copying the system image to your disk. This may take several minutes...": "Copiando la imagen del sistema a su disco. Esto puede tomar varios minutos...",
            "Verifying file copy": "Verificando copia de archivos",
            "Verifying that files were copied successfully": "Verificando que los archivos se copiaron con éxito",
            "Removing live ISO fstab": "Eliminando fstab del ISO en vivo",
            "Removing the live ISO filesystem configuration": "Eliminando la configuración del sistema de archivos del ISO en vivo",
            "Applying installer configuration": "Aplicando configuración del instalador",
            "Copying installer configuration files to the new system": "Copiando archivos de configuración del instalador al nuevo sistema",
            "Removing wheel sudo configuration": "Eliminando configuración sudo de wheel",
            "Removing temporary sudo configuration": "Eliminando configuración sudo temporal",
            "Changing system's language": "Cambiando el idioma del sistema",
            "Changing system's language to a selected one": "Cambiando el idioma del sistema al seleccionado",
            "Setting up timezone": "Configurando zona horaria",
            "Linking timezone to the selected one in the installer": "Vinculando zona horaria a la seleccionada en el instalador",
            "Setting up keyboard layout": "Configurando distribución del teclado",
            "Using proper commands in chroot environment to set up keyboard layout": "Usando comandos apropiados en el entorno chroot para configurar la distribución del teclado",
            "Adding user": "Añadiendo usuario",
            "Adding user, setting it's password and hostname for the PC": "Añadiendo usuario, estableciendo su contraseña y nombre de host para el PC",
            "Cleaning out rootfs": "Limpiando rootfs",
            "Cleaning out rootfs from LiveISO's config and applying post-install scripts": "Limpiando rootfs de la configuración del LiveISO y aplicando scripts post-instalación",
            "Installing bootloader": "Instalando gestor de arranque",
            "Checking for other systems installed and installing proper bootloader": "Comprobando otros sistemas instalados e instalando el gestor de arranque adecuado",
            "Unmounting filesystems": "Desmontando sistemas de archivos",
            "Safely unmounting all filesystems": "Desmontando de forma segura todos los sistemas de archivos",
            "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout": "Cambiando configuración de extensiones GNOME para reflejar la apariencia del diseño de escritorio seleccionado",
            "Setting up desktop layout": "Configurando diseño del escritorio",
            # Finish Widget
            "Installation has finished successfully!": "¡La instalación ha finalizado con éxito!",
            "Everything is set up for you. Thank you for choosing Linexin.": "Todo está configurado para usted. Gracias por elegir Linexin.",
            "Reboot the system to finish installation.": "Reinicie el sistema para finalizar la instalación.",
            "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.": "Todo está configurado para usted. Gracias por elegir Linexin.\nReinicie el sistema para finalizar la instalación.",
            "Reboot": "Reiniciar",
            "Reboot System": "Reiniciar sistema",
            "Are you sure you want to reboot now?": "¿Está seguro de que desea reiniciar ahora?",
            "Reboot Failed": "Reinicio fallido",
            "Could not reboot the system. Please reboot manually.": "No se pudo reiniciar el sistema. Por favor reinicie manualmente.",
            "Installation Complete": "Instalación completa"
        }

        self.translations["pt_BR.UTF-8"] = {
            # Exact text matching (what appears in your UI)
            # Language
            "Select a Language": "Selecione um idioma",
            "Search for a language...": "Pesquisar um idioma...",
            "Back": "Voltar",
            "Continue": "Continuar",
            # Timezone
            "Select Your Timezone": "Selecione seu fuso horário",
            "Choose a city in your region. This will be used to set the clock.": "Escolha uma cidade na sua região. Isso será usado para configurar o relógio.",
            "Search for your city or region...": "Pesquise sua cidade ou região...",
            "Advanced": "Avançado",
            "Proceed": "Prosseguir",
            "Cancel": "Cancelar",
            "Next": "Próximo",
            "Previous": "Anterior",
            "Finish": "Finalizar",
            # Keyboard
            "Select Your Keyboard Layout": "Selecione o layout do teclado",
            "Test your layout here:": "Teste seu layout aqui:",
            "You can add more after installation.": "Você pode adicionar mais após a instalação.",
            # Disk Utility Widget
            "Select Installation Destination": "Selecionar um disco",
            "Click on a disk or partition to select it or modify it.": "Clique em um disco ou partição para selecioná-lo ou modificá-lo.",
            "No Disks Found": "Nenhum disco encontrado",
            "Size": "Tamanho",
            "Type": "Tipo",
            "Mount": "Montagem",
            "Bootable": "Inicializável",
            "Not configured": "Não configurado",
            "Unallocated": "Não alocado",
            "Free Space": "Espaço livre",
            "Back": "Voltar",
            "Add": "Adicionar",
            "Remove": "Remover",
            "Format": "Formatar",
            "Auto": "Auto",
            "Filesystem": "Sistema de arquivos",
            "Mountpoint": "Ponto de montagem",
            "Boot flag": "Flag de inicialização",
            "Continue": "Continuar",
            "Selected": "Selecionado",
            "Loading...": "Carregando...",
            "Scanning for storage devices.": "Procurando dispositivos de armazenamento.",
            "Waiting for Gparted": "Aguardando o Gparted",
            "The disk list will be refreshed after you close the Gparted application.": "A lista de discos será atualizada após fechar a aplicação Gparted.",
            "Error: Gparted Not Found": "Erro: Gparted não encontrado",
            "Could not launch Gparted": "Não foi possível iniciar o Gparted",
            "OK": "OK",
            "Missing Required Configuration": "Configuração necessária ausente",
            "No bootable partition found": "Nenhuma partição inicializável encontrada",
            "No root (/) mountpoint configured": "Nenhum ponto de montagem raiz (/) configurado",
            "Would you like to automatically configure the selected device?": "Deseja configurar automaticamente o dispositivo selecionado?",
            "Auto-configure will:": "A configuração automática irá:",
            "Remove the selected partition/disk": "Remover a partição/disco selecionado",
            "Create a 1GB FAT32 boot partition at /boot": "Criar uma partição de inicialização FAT32 de 1GB em /boot",
            "Create an ext4 root partition at / with remaining space": "Criar uma partição raiz ext4 em / com o espaço restante",
            "WARNING: All data on the selected device will be lost!": "AVISO: Todos os dados no dispositivo selecionado serão perdidos!",
            "Go Back": "Voltar",
            "Continue Anyway": "Continuar mesmo assim",
            "Auto-Configure": "Configuração automática",
            "Configuration Required": "Configuração necessária",
            "Please select a disk and configure:": "Por favor, selecione um disco e configure:",
            "At least one bootable partition": "Pelo menos uma partição inicializável",
            "A root (/) mountpoint": "Um ponto de montagem raiz (/)",
            "Auto-Configuring": "Configurando automaticamente",
            "Setting up UEFI boot and root partitions...": "Configurando partições de inicialização UEFI e raiz...",
            "Setting up Legacy boot and root partitions...": "Configurando partições de inicialização Legacy e raiz...",
            "Formatting Disk": "Formatando disco",
            "Wiping disk and creating UEFI partitions...": "Limpando disco e criando partições UEFI...",
            "Wiping disk and creating Legacy partitions...": "Limpando disco e criando partições Legacy...",
            "Success": "Sucesso",
            "UEFI disk configured successfully!": "Disco UEFI configurado com sucesso!",
            "Created partitions:": "Partições criadas:",
            "1 GiB FAT32 at /boot (ESP)": "1 GiB FAT32 em /boot (ESP)",
            "ext4 at /": "ext4 em /",
            "fstab has been updated.": "fstab foi atualizado.",
            "Legacy disk configured successfully!": "Disco Legacy configurado com sucesso!",
            "ext4 at / (bootable)": "ext4 em / (inicializável)",
            "Note: GRUB will be installed to the MBR of": "Nota: GRUB será instalado no MBR de",
            "Error": "Erro",
            "Remove Partition": "Remover partição",
            "Are you sure you want to remove partition": "Tem certeza de que deseja remover a partição",
            "This action cannot be undone and all data will be lost!": "Esta ação não pode ser desfeita e todos os dados serão perdidos!",
            "Cancel": "Cancelar",
            "Format Partition": "Formatar partição",
            "Select filesystem type for": "Selecione o tipo de sistema de arquivos para",
            "Warning: All data will be lost!": "Aviso: Todos os dados serão perdidos!",
            "ext4": "ext4",
            "Btrfs": "Btrfs",
            "NTFS": "NTFS",
            "FAT32": "FAT32",
            "exFAT": "exFAT",
            "swap": "swap",
            "Unformatted": "Não formatado",
            "Format Partition": "Formatar partição",
            "Select filesystem type for": "Selecione o tipo de sistema de arquivos para",
            "Change Filesystem": "Alterar sistema de arquivos",
            "Change filesystem type for": "Alterar tipo de sistema de arquivos para",
            "Warning: This will reformat the partition and all data will be lost!": "Aviso: Isso reformatará a partição e todos os dados serão perdidos!",
            "Boot Flag": "Flag de inicialização",
            "Toggle boot flag for": "Alternar flag de inicialização para",
            "This will modify the partition to be visible in the boot menu.": "Isso modificará a partição para ser visível no menu de inicialização.",
            "Enable Boot Flag": "Ativar flag de inicialização",
            "Disable Boot Flag": "Desativar flag de inicialização",
            "No Selection": "Nenhuma seleção",
            "Please select a disk first.": "Por favor, selecione um disco primeiro.",
            "Please select a partition first.": "Por favor, selecione uma partição primeiro.",
            "Invalid Selection": "Seleção inválida",
            "Cannot add partition to a partition. Please select a disk.": "Não é possível adicionar partição a uma partição. Por favor, selecione um disco.",
            "Can only remove partitions. Please select a partition.": "Só é possível remover partições. Por favor, selecione uma partição.",
            "Format is only available for partitions. Use Auto for whole disks or free space.": "Formatação só está disponível para partições. Use Auto para discos inteiros ou espaço livre.",
            "Auto configuration is only available for whole disks or free space.": "Configuração automática só está disponível para discos inteiros ou espaço livre.",
            "Can only change filesystem of partitions. Please select a partition.": "Só é possível alterar sistema de arquivos de partições. Por favor, selecione uma partição.",
            "Can only set mountpoint for partitions. Please select a partition.": "Só é possível definir ponto de montagem para partições. Por favor, selecione uma partição.",
            "Can only set boot flag on partitions. Please select a partition.": "Só é possível definir flag de inicialização em partições. Por favor, selecione uma partição.",
            "Please select a disk or free space first.": "Por favor, selecione um disco ou espaço livre primeiro.",
            "Please select a partition or free space first.": "Por favor, selecione uma partição ou espaço livre primeiro.",
            "No device selected": "Nenhum dispositivo selecionado",
            "Format Entire Disk": "Formatar disco inteiro",
            "This will COMPLETELY WIPE": "Isso APAGARÁ COMPLETAMENTE",
            "and create:": "e criará:",
            "1 GiB FAT32 EFI System Partition at /boot": "Partição de sistema EFI FAT32 de 1 GiB em /boot",
            "Remaining space as ext4 partition at /": "Espaço restante como partição ext4 em /",
            "Single ext4 partition at / (bootable for Legacy boot)": "Partição única ext4 em / (inicializável para boot Legacy)",
            "ALL DATA WILL BE LOST! Are you sure?": "TODOS OS DADOS SERÃO PERDIDOS! Tem certeza?",
            "Note: GRUB will be installed to the MBR": "Nota: GRUB será instalado no MBR",
            "Wipe Disk": "Limpar disco",
            "Are you sure you want to remove partition": "Tem certeza de que deseja remover a partição",
            "Toggle boot flag for": "Alternar flag de inicialização para",
            "?": "?",
            ":": ":",
            "The following requirements are missing:": "Os seguintes requisitos estão faltando:",
            "Create Partition": "Criar partição",
            "Create partition on": "Criar partição em",
            "Size:": "Tamanho:",
            "10 or leave empty for max": "10 ou deixe vazio para o máximo",
            "MB": "MB",
            "GB": "GB",
            "TB": "TB",
            "Filesystem:": "Sistema de arquivos:",
            "Create": "Criar",
            "Set Mountpoint": "Definir ponto de montagem",
            "Set mountpoint for": "Definir ponto de montagem para",
            "Or enter custom mountpoint:": "Ou digite um ponto de montagem personalizado:",
            "/custom/path": "/caminho/personalizado",
            "Set": "Definir",
            "/home": "/home",
            "/boot": "/boot",
            "/var": "/var",
            "/tmp": "/tmp",
            "/usr": "/usr",
            "Invalid Size": "Tamanho inválido",
            "Size must be greater than 0": "O tamanho deve ser maior que 0",
            "Please enter a valid number": "Por favor, digite um número válido",
            "Invalid Mountpoint": "Ponto de montagem inválido",
            "Mountpoint must start with '/'": "Ponto de montagem deve começar com '/'",
            "Creating Partition": "Criando partição",
            "Creating partition, please wait...": "Criando partição, por favor aguarde...",
            "Removing Partition": "Removendo partição",
            "Removing partition": "Removendo partição",
            "Formatting Partition": "Formatando partição",
            "Formatting": "Formatando",
            "with": "com",
            "Setting Boot Flag": "Definindo flag de inicialização",
            "Setting boot flag for": "Definindo flag de inicialização para",
            "Please wait...": "Por favor, aguarde...",
            "Partition created successfully:": "Partição criada com sucesso:",
            "Partition removed successfully": "Partição removida com sucesso",
            "formatted successfully with": "formatado com sucesso com",
            "Mountpoint Set": "Ponto de montagem definido",
            "Mountpoint for": "Ponto de montagem para",
            "set to:": "definido como:",
            "Configuration saved and /etc/fstab updated.": "Configuração salva e /etc/fstab atualizado.",
            "Boot flag enabled for": "Flag de inicialização ativada para",
            "Boot flag disabled for": "Flag de inicialização desativada para",
            "Create partition on": "Criar partição em",
            "Set mountpoint for": "Definir ponto de montagem para",
            "Removing partition": "Removendo partição",
            "Formatting": "Formatando",
            "with": "com",
            "Setting boot flag for": "Definindo flag de inicialização para",
            "Selected:": "Selecionado:",
            "Size:": "Tamanho:",
            "Type:": "Tipo:",
            "Mount:": "Montagem:",
            "disk": "disco",
            "part": "part",
            "loop": "loop",
            "vfat": "vfat",
            "xfs": "xfs",
            "f2fs": "f2fs",
            "reiserfs": "reiserfs",
            "jfs": "jfs",
            "nilfs2": "nilfs2",
            # User Creation Widget
            "Create Your User Account": "Criar sua conta de usuário",
            "Set up your account to log in to the system.": "Configure sua conta para fazer login no sistema.",
            "User Account": "Conta de usuário",
            "Username": "Nome de usuário",
            "e.g., john": "ex.: joão",
            "Full Name": "Nome completo",
            "e.g., John Doe": "ex.: João Silva",
            "Password": "Senha",
            "Repeat Password": "Repetir senha",
            "System Configuration": "Configuração do sistema",
            "Computer's Name": "Nome do computador",
            "Linexin-PC": "Linexin-PC",
            "Enable Root account?": "Habilitar conta Root?",
            "Root Password": "Senha Root",
            "Repeat Root Password": "Repetir senha Root",
            "Username is required": "Nome de usuário é obrigatório",
            "Username must start with a letter or underscore, and contain only lowercase letters, numbers, underscores, and hyphens": "Nome de usuário deve começar com letra ou sublinhado, e conter apenas letras minúsculas, números, sublinhados e hífens",
            "Username must be 32 characters or less": "Nome de usuário deve ter 32 caracteres ou menos",
            "is a reserved system username": "é um nome de usuário do sistema reservado",
            "Computer name is required": "Nome do computador é obrigatório",
            "Must start and end with a letter or number, and contain only letters, numbers, and hyphens": "Deve começar e terminar com letra ou número, e conter apenas letras, números e hífens",
            "Computer name must be 63 characters or less": "Nome do computador deve ter 63 caracteres ou menos",
            "Passwords do not match": "As senhas não coincidem",
            "Root passwords do not match": "As senhas Root não coincidem",
            "Error": "Erro",
            "Failed to generate configuration files:": "Falha ao gerar arquivos de configuração:",
            "Try specifying a different output directory with more space.": "Tente especificar um diretório de saída diferente com mais espaço.",
            # Password strength indicators
            "Weak": "Fraca",
            "Fair": "Regular",
            "Good": "Boa",
            "Strong": "Forte",
            "at least 8 characters": "pelo menos 8 caracteres",
            "lowercase letters": "letras minúsculas",
            "uppercase letters": "letras maiúsculas",
            "numbers": "números",
            "special characters": "caracteres especiais",
            "add": "adicionar",
            "(add": "(adicionar",
            ")": ")",
            # Installation Widget
            "The installation could not be completed.": "A instalação não pôde ser concluída.",
            "Please check the details for more information.": "Por favor, verifique os detalhes para mais informações.",
            "Installation cancelled by user.": "Instalação cancelada pelo usuário.",
            "Error executing step": "Erro ao executar etapa",
            "Step failed:": "Etapa falhou:",
            "(exit code:": "(código de saída:",
            "Warning: Non-critical step failed:": "Aviso: Etapa não crítica falhou:",
            "completed successfully": "concluído com sucesso",
            "Files copied:": "Arquivos copiados:",
            "Installing System": "Instalando sistema",
            "Preparing installation...": "Preparando instalação...",
            "Please wait while the system prepares for installation": "Por favor aguarde enquanto o sistema se prepara para instalação",
            "Step": "Etapa",
            "of": "de",
            "Elapsed time": "Tempo decorrido",
            "Show Details": "Mostrar detalhes",
            "Hide Details": "Ocultar detalhes",
            "Cancel Installation?": "Cancelar instalação?",
            "Are you sure you want to cancel the installation? This may leave your system in an incomplete state.": "Tem certeza de que deseja cancelar a instalação? Isso pode deixar seu sistema em um estado incompleto.",
            "Keep Installing": "Continuar instalando",
            "Cancel Installation": "Cancelar instalação",
            "Cancelling installation...": "Cancelando instalação...",
            "Installation Complete!": "Instalação concluída!",
            "System installed successfully": "Sistema instalado com sucesso",
            "Your system has been installed and is ready to use.": "Seu sistema foi instalado e está pronto para uso.",
            "Finish": "Finalizar",
            "Installation Failed": "Instalação falhou",
            "An error occurred during installation": "Ocorreu um erro durante a instalação",
            "Try Again": "Tentar novamente",
            "Installation Cancelled": "Instalação cancelada",
            "Installation was cancelled by user": "A instalação foi cancelada pelo usuário",
            "The installation process was interrupted.": "O processo de instalação foi interrompido.",
            "Restart": "Reiniciar",
            "INSTALLATION COMPLETED SUCCESSFULLY!": "INSTALAÇÃO CONCLUÍDA COM SUCESSO!",
            # Installation steps
            "Creating installation directories": "Criando diretórios de instalação",
            "Setting up temporary installation directories": "Configurando diretórios temporários de instalação",
            "Mounting installation image": "Montando imagem de instalação",
            "containing the system image": "contendo a imagem do sistema",
            "Mounting root partition": "Montando partição raiz",
            "Mounting the root partition based on /etc/fstab": "Montando a partição raiz baseada em /etc/fstab",
            "Creating boot directory": "Criando diretório de inicialização",
            "Creating boot mount point": "Criando ponto de montagem de inicialização",
            "Mounting boot partition": "Montando partição de inicialização",
            "Mounting the boot partition based on /etc/fstab": "Montando a partição de inicialização baseada em /etc/fstab",
            "Copying system files": "Copiando arquivos do sistema",
            "Copying the system image to your disk. This may take several minutes...": "Copiando a imagem do sistema para seu disco. Isso pode levar vários minutos...",
            "Verifying file copy": "Verificando cópia de arquivos",
            "Verifying that files were copied successfully": "Verificando se os arquivos foram copiados com sucesso",
            "Removing live ISO fstab": "Removendo fstab do ISO ao vivo",
            "Removing the live ISO filesystem configuration": "Removendo a configuração do sistema de arquivos do ISO ao vivo",
            "Applying installer configuration": "Aplicando configuração do instalador",
            "Copying installer configuration files to the new system": "Copiando arquivos de configuração do instalador para o novo sistema",
            "Removing wheel sudo configuration": "Removendo configuração sudo do wheel",
            "Removing temporary sudo configuration": "Removendo configuração sudo temporária",
            "Changing system's language": "Alterando idioma do sistema",
            "Changing system's language to a selected one": "Alterando idioma do sistema para o selecionado",
            "Setting up timezone": "Configurando fuso horário",
            "Linking timezone to the selected one in the installer": "Vinculando fuso horário ao selecionado no instalador",
            "Setting up keyboard layout": "Configurando layout do teclado",
            "Using proper commands in chroot environment to set up keyboard layout": "Usando comandos apropriados no ambiente chroot para configurar o layout do teclado",
            "Adding user": "Adicionando usuário",
            "Adding user, setting it's password and hostname for the PC": "Adicionando usuário, definindo sua senha e nome do host para o PC",
            "Cleaning out rootfs": "Limpando rootfs",
            "Cleaning out rootfs from LiveISO's config and applying post-install scripts": "Limpando rootfs da configuração do LiveISO e aplicando scripts pós-instalação",
            "Installing bootloader": "Instalando gerenciador de inicialização",
            "Checking for other systems installed and installing proper bootloader": "Verificando outros sistemas instalados e instalando o gerenciador de inicialização apropriado",
            "Unmounting filesystems": "Desmontando sistemas de arquivos",
            "Safely unmounting all filesystems": "Desmontando com segurança todos os sistemas de arquivos",
            "Changing GNOME extensions settings to mirror look and feel of the selected desktop layout": "Alterando configurações das extensões GNOME para refletir a aparência do layout de desktop selecionado",
            "Setting up desktop layout": "Configurando layout da área de trabalho",
            # Finish Widget
            "Installation has finished successfully!": "A instalação foi concluída com sucesso!",
            "Everything is set up for you. Thank you for choosing Linexin.": "Tudo está configurado para você. Obrigado por escolher Linexin.",
            "Reboot the system to finish installation.": "Reinicie o sistema para finalizar a instalação.",
            "Everything is set up for you. Thank you for choosing Linexin.\nReboot the system to finish installation.": "Tudo está configurado para você. Obrigado por escolher Linexin.\nReinicie o sistema para finalizar a instalação.",
            "Reboot": "Reiniciar",
            "Reboot System": "Reiniciar sistema",
            "Are you sure you want to reboot now?": "Tem certeza de que deseja reiniciar agora?",
            "Reboot Failed": "Reinicialização falhou",
            "Could not reboot the system. Please reboot manually.": "Não foi possível reiniciar o sistema. Por favor, reinicie manualmente.",
            "Installation Complete": "Instalação concluída"
        }


    def translate_dialog(self, dialog):
        """Immediately translate a dialog when it's created"""
        try:
            # Translate heading
            heading = dialog.get_heading()
            if heading:
                dialog.set_heading(self.get_text(heading))

            # Translate body with bullet preservation
            body = dialog.get_body()
            if body:
                lines = body.splitlines()
                translated_lines = []
                for line in lines:
                    if not line.strip():
                        translated_lines.append(line)
                        continue
                    
                    # Handle bullet points
                    bullet = ""
                    stripped = line
                    if stripped.lstrip().startswith("• "):
                        bullet = "• "
                        stripped = stripped.lstrip()[2:].strip()
                    else:
                        stripped = stripped.strip()
                    
                    translated = self.get_text(stripped)
                    translated_lines.append(f"{bullet}{translated}")
                
                dialog.set_body("\n".join(translated_lines))
            
            # Translate response labels
            responses = []
            # Unfortunately, GTK4 doesn't provide a direct way to get response labels
            # So we'll handle this when creating dialogs
            
        except Exception as e:
            print(f"Error translating dialog: {e}")


    def register_widget(self, widget):
        """Register a top-level widget for automatic translation updates"""
        if widget not in self.registered_widgets:
            self.registered_widgets.append(widget)
            print(f"Registered widget for translation: {widget.__class__.__name__}")
    
    def set_language(self, language_code):
        """Set the current language and update all registered widgets"""
        if language_code in self.translations:
            old_language = self.current_language
            self.current_language = language_code
            if old_language != language_code:
                print(f"Language changed from {old_language} to {language_code}")
                self.update_all_widgets()
                self.emit('language-changed', language_code)
            return True
        else:
            print(f"Warning: Language {language_code} not available, keeping {self.current_language}")
            return False
    
    def update_all_widgets(self):
        """Update all registered widgets by traversing their widget trees"""
        for widget in self.registered_widgets:
            if widget and not widget.get_destroyed() if hasattr(widget, 'get_destroyed') else True:
                self.update_widget_tree(widget)
    
    def update_widget_tree(self, widget):
        """Recursively update all translatable elements in a widget tree"""
        try:
            # Update current widget if it's translatable
            self.update_widget(widget)
            
            # Recursively update children
            if hasattr(widget, 'get_first_child'):
                # GTK4 style iteration
                child = widget.get_first_child()
                while child:
                    self.update_widget_tree(child)
                    child = child.get_next_sibling()
            elif hasattr(widget, 'get_child'):
                # Single child containers
                child = widget.get_child()
                if child:
                    self.update_widget_tree(child)
            elif hasattr(widget, 'get_children'):
                # GTK3 style (fallback)
                for child in widget.get_children():
                    self.update_widget_tree(child)
                    
                    
        except Exception as e:
            # Silently continue if we can't access a widget
            pass
    
    def update_widget(self, widget):
        """Update a single widget if it contains translatable text.
        This version preserves original English keys so language can be switched
        multiple times without losing the lookup source.
        """
        try:
            widget_type = type(widget).__name__

            # Gtk.Button
            if isinstance(widget, Gtk.Button):
                # Remember the original English label once
                original = self._remember_original(widget, "button.label", widget.get_label())
                if original:
                    translated = self.get_text(original)
                    if translated != widget.get_label():
                        widget.set_label(translated)

            # Gtk.Label (preserve markup if present)
            elif isinstance(widget, Gtk.Label):
                # Plain text (no markup)
                original_plain = self._remember_original(widget, "label.text_plain", widget.get_text())
                # Markup template (if any). We keep the first-seen markup structure.
                current_markup = widget.get_label()
                original_markup = self._remember_original(widget, "label.markup", current_markup)

                if original_plain:
                    translated = self.get_text(original_plain)
                    # If markup is used, rebuild using original markup so we don't replace
                    # inside already-translated strings.
                    if original_markup and ("<" in original_markup and ">" in original_markup):
                        import re
                        if "<span" in original_markup and "</span>" in original_markup:
                            # Keep original span attributes
                            match = re.match(r"<span([^>]*)>.*</span>", original_markup)
                            if match:
                                span_attrs = match.group(1)
                                widget.set_markup(f"<span{span_attrs}>{translated}</span>")
                            else:
                                widget.set_markup(f"<span>{translated}</span>")
                        elif "<b>" in original_markup and "</b>" in original_markup:
                            widget.set_markup(f"<b>{translated}</b>")
                        else:
                            # Best-effort: replace the *original* plain text inside the
                            # *original* markup template. If not found, fall back to a span.
                            if original_plain in original_markup:
                                new_markup = original_markup.replace(original_plain, translated)
                                widget.set_markup(new_markup)
                            else:
                                widget.set_markup(f"<span>{translated}</span>")
                    else:
                        # No markup: plain text
                        if translated != widget.get_text():
                            widget.set_text(translated)

            # Gtk.Entry / Gtk.SearchEntry (placeholder only)
            elif isinstance(widget, Gtk.SearchEntry) or isinstance(widget, Gtk.Entry):
                original_ph = self._remember_original(
                    widget, "entry.placeholder", widget.get_placeholder_text()
                )
                if original_ph:
                    translated = self.get_text(original_ph)
                    if translated != widget.get_placeholder_text():
                        widget.set_placeholder_text(translated)

            # Adw.WindowTitle
            elif isinstance(widget, Adw.WindowTitle):
                original_title = self._remember_original(
                    widget, "windowtitle.title", widget.get_title()
                )
                if original_title:
                    translated = self.get_text(original_title)
                    if translated != widget.get_title():
                        widget.set_title(translated)

            # Adw.MessageDialog (heading + body with bullets)
            elif isinstance(widget, Adw.MessageDialog):
                # Heading
                original_heading = self._remember_original(
                    widget, "messagedialog.heading", widget.get_heading()
                )
                if original_heading:
                    translated_heading = self.get_text(original_heading)
                    if translated_heading != widget.get_heading():
                        widget.set_heading(translated_heading)

                # Body: store the original full body once, then translate line-by-line each time
                original_body = self._remember_original(
                    widget, "messagedialog.body", widget.get_body()
                )
                if original_body:
                    lines = original_body.splitlines()
                    out = []
                    for line in lines:
                        if not line.strip():
                            out.append(line)
                            continue
                        bullet = ""
                        stripped = line
                        if stripped.lstrip().startswith("• "):
                            bullet = "• "
                            stripped = stripped.lstrip()[2:].strip()
                        else:
                            stripped = stripped.strip()
                        translated_line = self.get_text(stripped)
                        out.append(f"{bullet}{translated_line}")
                    new_body = "\n".join(out)
                    if new_body != widget.get_body():
                        widget.set_body(new_body)

        except Exception:
            # Silently continue if we can't update a specific widget
            pass

    
    def get_text(self, key):
        # always resolve through English
        if key in self.translations.get(self.current_language, {}):
            return self.translations[self.current_language][key]
        if key in self.translations["en_US.UTF-8"]:
            return self.translations["en_US.UTF-8"][key]
        return key
        
        def get_current_language(self):
            """Get the current language code"""
            return self.current_language

# Singleton access
def get_localization_manager():
    """Get the singleton SimpleLocalizationManager instance"""
    return SimpleLocalizationManager()

# Convenience function for getting translated text (optional)
def _(key):
    """Get translated text using the localization manager"""
    return get_localization_manager().get_text(key)